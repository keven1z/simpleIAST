import{aB as _n,Z as pn,r as G,d as zt,E as Ht,b as yt,A as wt,p as Q,ai as E,q as h,t as F,v,U as i,O as p,W as vn,M,aC as hn,u as x,Q as Ke,aD as rt,aE as Be,F as _e,a8 as Fe,T as pe,a2 as tt,H as ot,f as j,aa as mn,R as X,S as ie,I as fe,aF as xe,aG as Ut,aq as gn,P as Je,w as at,a as Bt,J as Wt,aH as lt,aI as it,s as bn,a9 as Ye,n as yn,aJ as wn,V as ct}from"./vue-8cd83afb.js";import{g as xn,s as Ft,u as ut,a as jt,_ as ee,b as Ce,r as Sn,c as xt,d as St,e as qt,f as Cn}from"./index-87a91d15.js";import{e as Ge,f as En,h as Tn,g as An,j as Xt,k as Gt,l as $n,w as kn,E as Ie,c as Ln,n as Rn,o as Kt,p as Mt,q as et,s as Jt,r as In,t as Fn,u as Mn,v as Qt,x as Zt,y as Vn,z as Dn,A as On,B as Pn,C as Nn}from"./element-4f7446fd.js";import"./vxe-d278ed3b.js";import{r as zn,a as Hn,b as Un}from"./index-48652173.js";import{_ as Bn}from"./index.vue_vue_type_script_setup_true_lang-c4a9ee7d.js";import{g as Wn}from"./index-9d5f587b.js";import{g as jn}from"./index-d286409f.js";var be=(r=>(r[r.Mobile=0]="Mobile",r[r.Desktop=1]="Desktop",r))(be||{});const qn="opened",Yt="closed";function Xn(r){r?Ft(qn):Ft(Yt)}const Me=_n("app",()=>{const r=pn({opened:xn()!==Yt,withoutAnimation:!1}),s=G(be.Desktop);return zt(()=>r.opened,t=>Xn(t)),{device:s,sidebar:r,toggleSidebar:t=>{r.opened=!r.opened,r.withoutAnimation=t},closeSidebar:t=>{r.opened=!1,r.withoutAnimation=t},toggleDevice:t=>{s.value=t}}}),Gn=992,Kn=()=>{const r=Me(),{listenerRouteChange:s}=ut(),n=()=>document.body.getBoundingClientRect().width-1<Gn,o=()=>{if(!document.hidden){const e=n();r.toggleDevice(e?be.Mobile:be.Desktop),e&&r.closeSidebar(!0)}};s(()=>{r.device===be.Mobile&&r.sidebar.opened&&r.closeSidebar(!1)}),Ht(()=>{window.addEventListener("resize",o)}),yt(()=>{n()&&(r.toggleDevice(be.Mobile),r.closeSidebar(!0))}),wt(()=>{window.removeEventListener("resize",o)})},Jn={color:"#c0c4cc",opacity:.5,size:16,family:"serif",angle:-20,width:300,height:100},Qn=G(document.body);function Zn(r=Qn){let s,n,o=null;const e={mutationObserver:void 0,resizeObserver:void 0},t=(g,A={})=>{if(!r.value){console.warn("请在 DOM 挂载完成后再调用 setWatermark 方法设置水印");return}s=g,n={...Jn,...A},a(),c(r.value)},a=()=>{if(o){l();return}const g=document.createElement("div");g.style.pointerEvents="none",g.style.top="0",g.style.left="0",g.style.position="absolute",g.style.zIndex="99999",o=g;const{clientWidth:A,clientHeight:T}=r.value;l({width:A,height:T}),r.value.style.position="relative",r.value.appendChild(g)},l=(g={})=>{o&&(s&&(o.style.background=`url(${d()}) left top repeat`),g.width&&(o.style.width=`${g.width}px`),g.height&&(o.style.height=`${g.height}px`))},d=()=>{const{color:g,opacity:A,size:T,family:$,angle:D,width:N,height:U}=n,z=document.createElement("canvas");z.width=N,z.height=U;const k=z.getContext("2d");return k&&(k.fillStyle=g,k.globalAlpha=A,k.font=`${T}px ${$}`,k.rotate(Math.PI/180*D),k.fillText(s,0,U/2)),z.toDataURL()},f=()=>{!r.value||!o||(r.value.removeChild(o),o=null,C(r.value))},_=Ge(()=>{f(),a(),c(r.value)},100),c=g=>{e.mutationObserver||e.resizeObserver||(b(g),m(g))},C=g=>{var A,T;(A=e.mutationObserver)==null||A.disconnect(),e.mutationObserver=void 0,(T=e.resizeObserver)==null||T.unobserve(g),e.resizeObserver=void 0},b=g=>{const A={attributes:!0,childList:!0,subtree:!0},T=Ge($=>{const D=Ge(N=>{switch(N.type){case"attributes":N.target===o&&_();break;case"childList":N.removedNodes.forEach(U=>{U===o&&g.appendChild(o)});break}},100);$.forEach(N=>{D(N)})},100);e.mutationObserver=new MutationObserver(T),e.mutationObserver.observe(g,A)},m=g=>{const A=Ge(()=>{const{clientWidth:T,clientHeight:$}=g;l({width:T,height:$})},500);e.resizeObserver=new ResizeObserver(A),e.resizeObserver.observe(g)};return wt(()=>{f()}),{setWatermark:t,clearWatermark:f}}const Yn={class:"app-main"},eo={class:"app-scrollbar"},to=Q({__name:"AppMain",setup(r){const s=jt();return(n,o)=>{const e=E("router-view"),t=E("el-backtop");return h(),F("section",Yn,[v("div",eo,[i(e,null,{default:p(({Component:a,route:l})=>[i(vn,{name:"el-fade-in",mode:"out-in"},{default:p(()=>[(h(),M(hn,{include:x(s).cachedViews},[(h(),M(Ke(a),{key:l.path}))],1032,["include"]))]),_:2},1024)]),_:1})]),i(t),i(t,{target:".app-scrollbar"})])}}});const Ct=ee(to,[["__scopeId","data-v-404efda6"]]),no=Q({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(r,{emit:s}){const n=r,o=()=>{s("toggleClick")};return(e,t)=>{const a=E("el-icon");return h(),F("div",{onClick:o},[i(a,{size:20,class:"icon"},{default:p(()=>[n.isActive?(h(),M(x(En),{key:0})):(h(),M(x(Tn),{key:1}))]),_:1})])}}});const oo=ee(no,[["__scopeId","data-v-133039c0"]]);function ao(r){for(var s=[],n=0;n<r.length;){var o=r[n];if(o==="*"||o==="+"||o==="?"){s.push({type:"MODIFIER",index:n,value:r[n++]});continue}if(o==="\\"){s.push({type:"ESCAPED_CHAR",index:n++,value:r[n++]});continue}if(o==="{"){s.push({type:"OPEN",index:n,value:r[n++]});continue}if(o==="}"){s.push({type:"CLOSE",index:n,value:r[n++]});continue}if(o===":"){for(var e="",t=n+1;t<r.length;){var a=r.charCodeAt(t);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||a===95){e+=r[t++];continue}break}if(!e)throw new TypeError("Missing parameter name at ".concat(n));s.push({type:"NAME",index:n,value:e}),n=t;continue}if(o==="("){var l=1,d="",t=n+1;if(r[t]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(t));for(;t<r.length;){if(r[t]==="\\"){d+=r[t++]+r[t++];continue}if(r[t]===")"){if(l--,l===0){t++;break}}else if(r[t]==="("&&(l++,r[t+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(t));d+=r[t++]}if(l)throw new TypeError("Unbalanced pattern at ".concat(n));if(!d)throw new TypeError("Missing pattern at ".concat(n));s.push({type:"PATTERN",index:n,value:d}),n=t;continue}s.push({type:"CHAR",index:n,value:r[n++]})}return s.push({type:"END",index:n,value:""}),s}function so(r,s){s===void 0&&(s={});for(var n=ao(r),o=s.prefixes,e=o===void 0?"./":o,t="[^".concat(io(s.delimiter||"/#?"),"]+?"),a=[],l=0,d=0,f="",_=function(z){if(d<n.length&&n[d].type===z)return n[d++].value},c=function(z){var k=_(z);if(k!==void 0)return k;var R=n[d],y=R.type,H=R.index;throw new TypeError("Unexpected ".concat(y," at ").concat(H,", expected ").concat(z))},C=function(){for(var z="",k;k=_("CHAR")||_("ESCAPED_CHAR");)z+=k;return z};d<n.length;){var b=_("CHAR"),m=_("NAME"),g=_("PATTERN");if(m||g){var A=b||"";e.indexOf(A)===-1&&(f+=A,A=""),f&&(a.push(f),f=""),a.push({name:m||l++,prefix:A,suffix:"",pattern:g||t,modifier:_("MODIFIER")||""});continue}var T=b||_("ESCAPED_CHAR");if(T){f+=T;continue}f&&(a.push(f),f="");var $=_("OPEN");if($){var A=C(),D=_("NAME")||"",N=_("PATTERN")||"",U=C();c("CLOSE"),a.push({name:D||(N?l++:""),pattern:D&&!N?t:N,prefix:A,suffix:U,modifier:_("MODIFIER")||""});continue}c("END")}return a}function ro(r,s){return lo(so(r,s),s)}function lo(r,s){s===void 0&&(s={});var n=co(s),o=s.encode,e=o===void 0?function(d){return d}:o,t=s.validate,a=t===void 0?!0:t,l=r.map(function(d){if(typeof d=="object")return new RegExp("^(?:".concat(d.pattern,")$"),n)});return function(d){for(var f="",_=0;_<r.length;_++){var c=r[_];if(typeof c=="string"){f+=c;continue}var C=d?d[c.name]:void 0,b=c.modifier==="?"||c.modifier==="*",m=c.modifier==="*"||c.modifier==="+";if(Array.isArray(C)){if(!m)throw new TypeError('Expected "'.concat(c.name,'" to not repeat, but got an array'));if(C.length===0){if(b)continue;throw new TypeError('Expected "'.concat(c.name,'" to not be empty'))}for(var g=0;g<C.length;g++){var A=e(C[g],c);if(a&&!l[_].test(A))throw new TypeError('Expected all "'.concat(c.name,'" to match "').concat(c.pattern,'", but got "').concat(A,'"'));f+=c.prefix+A+c.suffix}continue}if(typeof C=="string"||typeof C=="number"){var A=e(String(C),c);if(a&&!l[_].test(A))throw new TypeError('Expected "'.concat(c.name,'" to match "').concat(c.pattern,'", but got "').concat(A,'"'));f+=c.prefix+A+c.suffix;continue}if(!b){var T=m?"an array":"a string";throw new TypeError('Expected "'.concat(c.name,'" to be ').concat(T))}}return f}}function io(r){return r.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function co(r){return r&&r.sensitive?"":"i"}const uo={key:0,class:"no-redirect"},fo=["onClick"],_o=Q({__name:"index",setup(r){const s=rt(),n=Be(),{listenerRouteChange:o}=ut(),e=G([]),t=()=>{e.value=s.matched.filter(d=>{var f,_;return((f=d.meta)==null?void 0:f.title)&&((_=d.meta)==null?void 0:_.breadcrumb)!==!1})},a=d=>ro(d)(s.params),l=d=>{const{redirect:f,path:_}=d;if(f){n.push(f);return}n.push(a(_))};return o(d=>{d.path.startsWith("/redirect/")||t()},!0),(d,f)=>{const _=E("el-breadcrumb-item"),c=E("el-breadcrumb");return h(),M(c,{class:"app-breadcrumb"},{default:p(()=>[(h(!0),F(_e,null,Fe(e.value,(C,b)=>(h(),M(_,{key:C.path},{default:p(()=>[C.redirect==="noRedirect"||b===e.value.length-1?(h(),F("span",uo,pe(C.meta.title),1)):(h(),F("a",{key:1,onClick:tt(m=>l(C),["prevent"])},pe(C.meta.title),9,fo))]),_:2},1024))),128))]),_:1})}}});const po=ee(_o,[["__scopeId","data-v-63d11c68"]]),st=r=>/^(https?:|mailto:|tel:)/.test(r),vo=["href"],ho=Q({__name:"SidebarItemLink",props:{to:{}},setup(r){const s=r;return(n,o)=>{const e=E("router-link");return x(st)(s.to)?(h(),F("a",{key:0,href:s.to,target:"_blank",rel:"noopener"},[ot(n.$slots,"default")],8,vo)):(h(),M(e,{key:1,to:s.to},{default:p(()=>[ot(n.$slots,"default")]),_:3},8,["to"]))}}});function Se(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function Vt(r,s){for(var n="",o=0,e=-1,t=0,a,l=0;l<=r.length;++l){if(l<r.length)a=r.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(e===l-1||t===1))if(e!==l-1&&t===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var d=n.lastIndexOf("/");if(d!==n.length-1){d===-1?(n="",o=0):(n=n.slice(0,d),o=n.length-1-n.lastIndexOf("/")),e=l,t=0;continue}}else if(n.length===2||n.length===1){n="",o=0,e=l,t=0;continue}}s&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+r.slice(e+1,l):n=r.slice(e+1,l),o=l-e-1;e=l,t=0}else a===46&&t!==-1?++t:t=-1}return n}function mo(r,s){var n=s.dir||s.root,o=s.base||(s.name||"")+(s.ext||"");return n?n===s.root?n+o:n+r+o:o}var Ue={resolve:function(){for(var s="",n=!1,o,e=arguments.length-1;e>=-1&&!n;e--){var t;e>=0?t=arguments[e]:(o===void 0&&(o=process.cwd()),t=o),Se(t),t.length!==0&&(s=t+"/"+s,n=t.charCodeAt(0)===47)}return s=Vt(s,!n),n?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(Se(s),s.length===0)return".";var n=s.charCodeAt(0)===47,o=s.charCodeAt(s.length-1)===47;return s=Vt(s,!n),s.length===0&&!n&&(s="."),s.length>0&&o&&(s+="/"),n?"/"+s:s},isAbsolute:function(s){return Se(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,n=0;n<arguments.length;++n){var o=arguments[n];Se(o),o.length>0&&(s===void 0?s=o:s+="/"+o)}return s===void 0?".":Ue.normalize(s)},relative:function(s,n){if(Se(s),Se(n),s===n||(s=Ue.resolve(s),n=Ue.resolve(n),s===n))return"";for(var o=1;o<s.length&&s.charCodeAt(o)===47;++o);for(var e=s.length,t=e-o,a=1;a<n.length&&n.charCodeAt(a)===47;++a);for(var l=n.length,d=l-a,f=t<d?t:d,_=-1,c=0;c<=f;++c){if(c===f){if(d>f){if(n.charCodeAt(a+c)===47)return n.slice(a+c+1);if(c===0)return n.slice(a+c)}else t>f&&(s.charCodeAt(o+c)===47?_=c:c===0&&(_=0));break}var C=s.charCodeAt(o+c),b=n.charCodeAt(a+c);if(C!==b)break;C===47&&(_=c)}var m="";for(c=o+_+1;c<=e;++c)(c===e||s.charCodeAt(c)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+n.slice(a+_):(a+=_,n.charCodeAt(a)===47&&++a,n.slice(a))},_makeLong:function(s){return s},dirname:function(s){if(Se(s),s.length===0)return".";for(var n=s.charCodeAt(0),o=n===47,e=-1,t=!0,a=s.length-1;a>=1;--a)if(n=s.charCodeAt(a),n===47){if(!t){e=a;break}}else t=!1;return e===-1?o?"/":".":o&&e===1?"//":s.slice(0,e)},basename:function(s,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Se(s);var o=0,e=-1,t=!0,a;if(n!==void 0&&n.length>0&&n.length<=s.length){if(n.length===s.length&&n===s)return"";var l=n.length-1,d=-1;for(a=s.length-1;a>=0;--a){var f=s.charCodeAt(a);if(f===47){if(!t){o=a+1;break}}else d===-1&&(t=!1,d=a+1),l>=0&&(f===n.charCodeAt(l)?--l===-1&&(e=a):(l=-1,e=d))}return o===e?e=d:e===-1&&(e=s.length),s.slice(o,e)}else{for(a=s.length-1;a>=0;--a)if(s.charCodeAt(a)===47){if(!t){o=a+1;break}}else e===-1&&(t=!1,e=a+1);return e===-1?"":s.slice(o,e)}},extname:function(s){Se(s);for(var n=-1,o=0,e=-1,t=!0,a=0,l=s.length-1;l>=0;--l){var d=s.charCodeAt(l);if(d===47){if(!t){o=l+1;break}continue}e===-1&&(t=!1,e=l+1),d===46?n===-1?n=l:a!==1&&(a=1):n!==-1&&(a=-1)}return n===-1||e===-1||a===0||a===1&&n===e-1&&n===o+1?"":s.slice(n,e)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return mo("/",s)},parse:function(s){Se(s);var n={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return n;var o=s.charCodeAt(0),e=o===47,t;e?(n.root="/",t=1):t=0;for(var a=-1,l=0,d=-1,f=!0,_=s.length-1,c=0;_>=t;--_){if(o=s.charCodeAt(_),o===47){if(!f){l=_+1;break}continue}d===-1&&(f=!1,d=_+1),o===46?a===-1?a=_:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||d===-1||c===0||c===1&&a===d-1&&a===l+1?d!==-1&&(l===0&&e?n.base=n.name=s.slice(1,d):n.base=n.name=s.slice(l,d)):(l===0&&e?(n.name=s.slice(1,a),n.base=s.slice(1,d)):(n.name=s.slice(l,a),n.base=s.slice(l,d)),n.ext=s.slice(a,d)),l>0?n.dir=s.slice(0,l-1):e&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};Ue.posix=Ue;var go=Ue;const en=An(go),bo={key:2},yo=Q({__name:"SidebarItem",props:{item:{},isCollapse:{type:Boolean,default:!1},isTop:{type:Boolean,default:!1},isFirstLevel:{type:Boolean,default:!0},basePath:{default:""}},setup(r){const s=r,n=j(()=>{var l;return(l=s.item.meta)==null?void 0:l.alwaysShow}),o=j(()=>{var l;return((l=s.item.children)==null?void 0:l.filter(d=>{var f;return!((f=d.meta)!=null&&f.hidden)}))??[]}),e=j(()=>o.value.length),t=j(()=>{const l=e.value;switch(!0){case l>1:return null;case l===1:return o.value[0];default:return{...s.item,path:""}}}),a=l=>{switch(!0){case st(l):return l;case st(s.basePath):return s.basePath;default:return en.resolve(s.basePath,l)}};return(l,d)=>{var b;const f=E("SvgIcon"),_=E("el-menu-item"),c=E("sidebar-item",!0),C=E("el-sub-menu");return(b=s.item.meta)!=null&&b.hidden?X("",!0):(h(),F("div",{key:0,class:fe({"simple-mode":s.isCollapse&&!l.isTop,"first-level":s.isFirstLevel})},[!n.value&&t.value&&!t.value.children?(h(),F(_e,{key:0},[t.value.meta?(h(),M(ho,{key:0,to:a(t.value.path)},{default:p(()=>[i(_,{index:a(t.value.path)},mn({default:p(()=>[t.value.meta.svgIcon?(h(),M(f,{key:0,name:t.value.meta.svgIcon},null,8,["name"])):t.value.meta.elIcon?(h(),M(Ke(t.value.meta.elIcon),{key:1,class:"el-icon"})):X("",!0)]),_:2},[t.value.meta.title?{name:"title",fn:p(()=>[ie(pe(t.value.meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):X("",!0)],64)):(h(),M(C,{key:1,index:a(s.item.path),teleported:""},{title:p(()=>{var m,g,A;return[(m=s.item.meta)!=null&&m.svgIcon?(h(),M(f,{key:0,name:s.item.meta.svgIcon},null,8,["name"])):(g=s.item.meta)!=null&&g.elIcon?(h(),M(Ke(s.item.meta.elIcon),{key:1,class:"el-icon"})):X("",!0),(A=s.item.meta)!=null&&A.title?(h(),F("span",bo,pe(s.item.meta.title),1)):X("",!0)]}),default:p(()=>[s.item.children?(h(!0),F(_e,{key:0},Fe(s.item.children,m=>(h(),M(c,{key:m.path,item:m,"is-collapse":s.isCollapse,"is-first-level":!1,"base-path":a(m.path)},null,8,["item","is-collapse","base-path"]))),128)):X("",!0)]),_:1},8,["index"]))],2))}}});const wo=ee(yo,[["__scopeId","data-v-aae703b2"]]),xo="/static/logo-c5be2df6.png",So={class:"layout-logo-container"},Co=["src"],Eo=Q({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(r){const s=Ce();return xe(s),(n,o)=>(h(),F("div",So,[v("img",{src:x(xo),class:"layout-logo"},null,8,Co)]))}});const Et=ee(Eo,[["__scopeId","data-v-2d8fe1ac"]]),De=()=>{const r="/api/v1/";try{return new URL(r).origin}catch{return`${window.location.protocol}//${window.location.host}`}},nt=r=>{let s="";try{s=getComputedStyle(document.documentElement).getPropertyValue(r)}catch(n){console.error(n)}return s},Dt=(r,s)=>{try{document.documentElement.style.setProperty(r,s)}catch(n){console.error(n)}},To=()=>{Sn(),location.reload()},Ao=Q({__name:"index",setup(r){Ut(R=>({d3cbd5ae:k.value,"27a97643":U.value,"53ce3b2b":z.value,"28df2b3e":N.value}));const s=nt("--v3-sidebar-menu-bg-color"),n=nt("--v3-sidebar-menu-text-color"),o=nt("--v3-sidebar-menu-active-text-color"),e=rt(),t=Me(),a=xt(),l=Ce(),{sidebar:d,device:f}=xe(t),{layoutMode:_,showLogo:c}=xe(l),C=j(()=>{const{meta:{activeMenu:R},path:y}=e;return R||y}),b=j(()=>!d.value.opened),m=j(()=>_.value==="left"),g=j(()=>_.value==="top"),A=j(()=>f.value===be.Mobile),T=j(()=>m.value&&c.value),$=j(()=>m.value?s:void 0),D=j(()=>m.value?n:void 0),N=j(()=>m.value?o:void 0),U=j(()=>_.value!=="top"?"var(--v3-sidebar-menu-item-height)":"var(--v3-navigationbar-height)"),z=j(()=>_.value!=="top"?"var(--v3-sidebar-menu-hover-bg-color)":"transparent"),k=j(()=>_.value!=="top"?"2px":"0px");return(R,y)=>{const H=E("el-menu"),Z=E("el-scrollbar");return h(),F("div",{class:fe({"has-logo":T.value})},[T.value?(h(),M(Et,{key:0,collapse:b.value},null,8,["collapse"])):X("",!0),i(Z,{"wrap-class":"scrollbar-wrapper"},{default:p(()=>[i(H,{"default-active":C.value,collapse:b.value&&!g.value,"background-color":$.value,"text-color":D.value,"active-text-color":N.value,"unique-opened":!0,"collapse-transition":!1,mode:g.value&&!A.value?"horizontal":"vertical"},{default:p(()=>[(h(!0),F(_e,null,Fe(x(a).routes,V=>(h(),M(wo,{key:V.path,item:V,"base-path":V.path,"is-collapse":b.value,"is-top":g.value},null,8,["item","base-path","is-collapse","is-top"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}});const Tt=ee(Ao,[["__scopeId","data-v-328a1a26"]]),$o={class:"card-header"},ko={class:"header-content"},Lo={class:"title-wrapper"},Ro={class:"card-meta"},Io={class:"card-time"},Fo={class:"card-body"},Mo=Q({__name:"NotifyList",props:{list:{}},setup(r){const s=r,n=Be(),o=a=>{switch(a){case"warning":return kn;case"success":return $n;case"info":return Gt;default:return Xt}},e=a=>{switch(a){case"warning":return"notice-warning";case"success":return"notice-success";case"info":return"notice-info";default:return"notice-default"}};function t(a,l){n.push(`/vuln/detail/${a}`),zn(typeof l=="number"?l:Number(l)).then(()=>{Ie.success("已标记为已读")}).catch(()=>{Ie.error("标记失败")})}return(a,l)=>{const d=E("el-empty"),f=E("el-icon"),_=E("el-button"),c=E("el-tag"),C=E("el-text"),b=E("el-card");return s.list.length===0?(h(),M(d,{key:0,description:"暂无通知","image-size":80})):(h(!0),F(_e,{key:1},Fe(s.list,(m,g)=>(h(),M(b,{key:m.id||g,shadow:"never",class:fe(["card-container",{"unread-notice":m.isRead===0}]),hoverable:""},{header:p(()=>[v("div",$o,[v("div",ko,[v("div",Lo,[i(f,{class:fe(["notice-icon",e(m.type)])},{default:p(()=>[(h(),M(Ke(o(m.type))))]),_:2},1032,["class"]),i(_,{class:"card-title",link:"",type:"primary",onClick:A=>{var T;return t(((T=m.report)==null?void 0:T.id)||0,Number(m.id))}},{default:p(()=>[ie(pe(m.title),1)]),_:2},1032,["onClick"])]),v("div",Ro,[m.isRead===0?(h(),M(c,{key:0,type:"danger",size:"small",class:"unread-badge"},{default:p(()=>[ie(" 未读 ")]),_:1})):X("",!0),v("div",Io,pe(m.datetime),1)])])])]),default:p(()=>[v("div",Fo,[i(C,{innerHTML:m.description??"No Data",class:"notice-description"},null,8,["innerHTML"])])]),_:2},1032,["class"]))),128))}}});const Vo=ee(Mo,[["__scopeId","data-v-24a70942"]]);var bt={exports:{}};(function(r,s){(function(n){var o=n.setTimeout,e=n.clearTimeout,t=n.XMLHttpRequest,a=n.XDomainRequest,l=n.ActiveXObject,d=n.EventSource,f=n.document,_=n.Promise,c=n.fetch,C=n.Response,b=n.TextDecoder,m=n.TextEncoder,g=n.AbortController;if(typeof window<"u"&&typeof f<"u"&&!("readyState"in f)&&f.body==null&&(f.readyState="loading",window.addEventListener("load",function(u){f.readyState="complete"},!1)),t==null&&l!=null&&(t=function(){return new l("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(u){function S(){}return S.prototype=u,new S}),Date.now||(Date.now=function(){return new Date().getTime()}),g==null){var A=c;c=function(u,S){var L=S.signal;return A(u,{headers:S.headers,credentials:S.credentials,cache:S.cache}).then(function(w){var O=w.body.getReader();return L._reader=O,L._aborted&&L._reader.cancel(),{status:w.status,statusText:w.statusText,headers:w.headers,body:{getReader:function(){return O}}}})},g=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function T(){this.bitsNeeded=0,this.codePoint=0}T.prototype.decode=function(u){function S(K,J,P){if(P===1)return K>=128>>J&&K<<J<=2047;if(P===2)return K>=2048>>J&&K<<J<=55295||K>=57344>>J&&K<<J<=65535;if(P===3)return K>=65536>>J&&K<<J<=1114111;throw new Error}function L(K,J){if(K===6*1)return J>>6>15?3:J>31?2:1;if(K===6*2)return J>15?3:2;if(K===6*3)return 3;throw new Error}for(var w=65533,O="",I=this.bitsNeeded,B=this.codePoint,te=0;te<u.length;te+=1){var W=u[te];I!==0&&(W<128||W>191||!S(B<<6|W&63,I-6,L(I,B)))&&(I=0,B=w,O+=String.fromCharCode(B)),I===0?(W>=0&&W<=127?(I=0,B=W):W>=192&&W<=223?(I=6*1,B=W&31):W>=224&&W<=239?(I=6*2,B=W&15):W>=240&&W<=247?(I=6*3,B=W&7):(I=0,B=w),I!==0&&!S(B,I,L(I,B))&&(I=0,B=w)):(I-=6,B=B<<6|W&63),I===0&&(B<=65535?O+=String.fromCharCode(B):(O+=String.fromCharCode(55296+(B-65535-1>>10)),O+=String.fromCharCode(56320+(B-65535-1&1023))))}return this.bitsNeeded=I,this.codePoint=B,O};var $=function(){try{return new b().decode(new m().encode("test"),{stream:!0})==="test"}catch(u){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+u)}return!1};(b==null||m==null||!$())&&(b=T);var D=function(){};function N(u){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=D,this.onload=D,this.onerror=D,this.onreadystatechange=D,this._contentType="",this._xhr=u,this._sendTimeout=0,this._abort=D}N.prototype.open=function(u,S){this._abort(!0);var L=this,w=this._xhr,O=1,I=0;this._abort=function(P){L._sendTimeout!==0&&(e(L._sendTimeout),L._sendTimeout=0),(O===1||O===2||O===3)&&(O=4,w.onload=D,w.onerror=D,w.onabort=D,w.onprogress=D,w.onreadystatechange=D,w.abort(),I!==0&&(e(I),I=0),P||(L.readyState=4,L.onabort(null),L.onreadystatechange())),O=0};var B=function(){if(O===1){var P=0,ne="",Ee=void 0;if("contentType"in w)P=200,ne="OK",Ee=w.contentType;else try{P=w.status,ne=w.statusText,Ee=w.getResponseHeader("Content-Type")}catch{P=0,ne="",Ee=void 0}P!==0&&(O=2,L.readyState=2,L.status=P,L.statusText=ne,L._contentType=Ee,L.onreadystatechange())}},te=function(){if(B(),O===2||O===3){O=3;var P="";try{P=w.responseText}catch{}L.readyState=3,L.responseText=P,L.onprogress()}},W=function(P,ne){if((ne==null||ne.preventDefault==null)&&(ne={preventDefault:D}),te(),O===1||O===2||O===3){if(O=4,I!==0&&(e(I),I=0),L.readyState=4,P==="load")L.onload(ne);else if(P==="error")L.onerror(ne);else if(P==="abort")L.onabort(ne);else throw new TypeError;L.onreadystatechange()}},K=function(P){w!=null&&(w.readyState===4?(!("onload"in w)||!("onerror"in w)||!("onabort"in w))&&W(w.responseText===""?"error":"load",P):w.readyState===3?"onprogress"in w||te():w.readyState===2&&B())},J=function(){I=o(function(){J()},500),w.readyState===3&&te()};"onload"in w&&(w.onload=function(P){W("load",P)}),"onerror"in w&&(w.onerror=function(P){W("error",P)}),"onabort"in w&&(w.onabort=function(P){W("abort",P)}),"onprogress"in w&&(w.onprogress=te),"onreadystatechange"in w&&(w.onreadystatechange=function(P){K(P)}),("contentType"in w||!("ontimeout"in t.prototype))&&(S+=(S.indexOf("?")===-1?"?":"&")+"padding=true"),w.open(u,S,!0),"readyState"in w&&(I=o(function(){J()},0))},N.prototype.abort=function(){this._abort(!1)},N.prototype.getResponseHeader=function(u){return this._contentType},N.prototype.setRequestHeader=function(u,S){var L=this._xhr;"setRequestHeader"in L&&L.setRequestHeader(u,S)},N.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},N.prototype.send=function(){if((!("ontimeout"in t.prototype)||!("sendAsBinary"in t.prototype)&&!("mozAnon"in t.prototype))&&f!=null&&f.readyState!=null&&f.readyState!=="complete"){var u=this;u._sendTimeout=o(function(){u._sendTimeout=0,u.send()},4);return}var S=this._xhr;"withCredentials"in S&&(S.withCredentials=this.withCredentials);try{S.send(void 0)}catch(L){throw L}};function U(u){return u.replace(/[A-Z]/g,function(S){return String.fromCharCode(S.charCodeAt(0)+32)})}function z(u){for(var S=Object.create(null),L=u.split(`\r
`),w=0;w<L.length;w+=1){var O=L[w],I=O.split(": "),B=I.shift(),te=I.join(": ");S[U(B)]=te}this._map=S}z.prototype.get=function(u){return this._map[U(u)]},t!=null&&t.HEADERS_RECEIVED==null&&(t.HEADERS_RECEIVED=2);function k(){}k.prototype.open=function(u,S,L,w,O,I,B){u.open("GET",O);var te=0;u.onprogress=function(){var K=u.responseText,J=K.slice(te);te+=J.length,L(J)},u.onerror=function(K){K.preventDefault(),w(new Error("NetworkError"))},u.onload=function(){w(null)},u.onabort=function(){w(null)},u.onreadystatechange=function(){if(u.readyState===t.HEADERS_RECEIVED){var K=u.status,J=u.statusText,P=u.getResponseHeader("Content-Type"),ne=u.getAllResponseHeaders();S(K,J,P,new z(ne))}},u.withCredentials=I;for(var W in B)Object.prototype.hasOwnProperty.call(B,W)&&u.setRequestHeader(W,B[W]);return u.send(),u};function R(u){this._headers=u}R.prototype.get=function(u){return this._headers.get(u)};function y(){}y.prototype.open=function(u,S,L,w,O,I,B){var te=null,W=new g,K=W.signal,J=new b;return c(O,{headers:B,credentials:I?"include":"same-origin",signal:K,cache:"no-store"}).then(function(P){return te=P.body.getReader(),S(P.status,P.statusText,P.headers.get("Content-Type"),new R(P.headers)),new _(function(ne,Ee){var qe=function(){te.read().then(function(ve){if(ve.done)ne(void 0);else{var ce=J.decode(ve.value,{stream:!0});L(ce),qe()}}).catch(function(ve){Ee(ve)})};qe()})}).catch(function(P){if(P.name!=="AbortError")return P}).then(function(P){w(P)}),{abort:function(){te!=null&&te.cancel(),W.abort()}}};function H(){this._listeners=Object.create(null)}function Z(u){o(function(){throw u},0)}H.prototype.dispatchEvent=function(u){u.target=this;var S=this._listeners[u.type];if(S!=null)for(var L=S.length,w=0;w<L;w+=1){var O=S[w];try{typeof O.handleEvent=="function"?O.handleEvent(u):O.call(this,u)}catch(I){Z(I)}}},H.prototype.addEventListener=function(u,S){u=String(u);var L=this._listeners,w=L[u];w==null&&(w=[],L[u]=w);for(var O=!1,I=0;I<w.length;I+=1)w[I]===S&&(O=!0);O||w.push(S)},H.prototype.removeEventListener=function(u,S){u=String(u);var L=this._listeners,w=L[u];if(w!=null){for(var O=[],I=0;I<w.length;I+=1)w[I]!==S&&O.push(w[I]);O.length===0?delete L[u]:L[u]=O}};function V(u){this.type=u,this.target=void 0}function Y(u,S){V.call(this,u),this.data=S.data,this.lastEventId=S.lastEventId}Y.prototype=Object.create(V.prototype);function q(u,S){V.call(this,u),this.status=S.status,this.statusText=S.statusText,this.headers=S.headers}q.prototype=Object.create(V.prototype);function We(u,S){V.call(this,u),this.error=S.error}We.prototype=Object.create(V.prototype);var dt=-1,Le=0,Oe=1,je=2,ft=-1,Re=0,_t=1,Lt=2,on=3,an=/^text\/event\-stream(;.*)?$/i,sn=1e3,rn=18e6,pt=function(u,S){var L=u==null?S:parseInt(u,10);return L!==L&&(L=S),vt(L)},vt=function(u){return Math.min(Math.max(u,sn),rn)},Pe=function(u,S,L){try{typeof S=="function"&&S.call(u,L)}catch(w){Z(w)}};function ye(u,S){H.call(this),S=S||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,un(this,u,S)}function ln(){return t!=null&&"withCredentials"in t.prototype||a==null?new t:new a}var cn=c!=null&&C!=null&&"body"in C.prototype;function un(u,S,L){S=String(S);var w=!!L.withCredentials,O=L.lastEventIdQueryParameterName||"lastEventId",I=vt(1e3),B=pt(L.heartbeatTimeout,45e3),te="",W=I,K=!1,J=0,P=L.headers||{},ne=L.Transport,Ee=cn&&ne==null?void 0:new N(ne!=null?new ne:ln()),qe=ne!=null&&typeof ne!="string"?new ne:Ee==null?new y:new k,ve=void 0,ce=0,we=dt,Ne="",Qe="",Te="",Ze="",ue=Re,ht=0,Ve=0,dn=function(se,ae,he,me){if(we===Le)if(se===200&&he!=null&&an.test(he)){we=Oe,K=Date.now(),W=I,u.readyState=Oe;var de=new q("open",{status:se,statusText:ae,headers:me});u.dispatchEvent(de),Pe(u,u.onopen,de)}else{var le="";se!==200?(ae&&(ae=ae.replace(/\s+/g," ")),le="EventSource's response has a status "+se+" "+ae+" that is not 200. Aborting the connection."):le="EventSource's response has a Content-Type specifying an unsupported type: "+(he==null?"-":he.replace(/\s+/g," "))+". Aborting the connection.",mt();var de=new q("error",{status:se,statusText:ae,headers:me});u.dispatchEvent(de),Pe(u,u.onerror,de),console.error(le)}},fn=function(se){if(we===Oe){for(var ae=-1,he=0;he<se.length;he+=1){var me=se.charCodeAt(he);(me===`
`.charCodeAt(0)||me==="\r".charCodeAt(0))&&(ae=he)}var de=(ae!==-1?Ze:"")+se.slice(0,ae+1);Ze=(ae===-1?Ze:"")+se.slice(ae+1),se!==""&&(K=Date.now(),J+=se.length);for(var le=0;le<de.length;le+=1){var me=de.charCodeAt(le);if(ue===ft&&me===`
`.charCodeAt(0))ue=Re;else if(ue===ft&&(ue=Re),me==="\r".charCodeAt(0)||me===`
`.charCodeAt(0)){if(ue!==Re){ue===_t&&(Ve=le+1);var Ae=de.slice(ht,Ve-1),$e=de.slice(Ve+(Ve<le&&de.charCodeAt(Ve)===" ".charCodeAt(0)?1:0),le);Ae==="data"?(Ne+=`
`,Ne+=$e):Ae==="id"?Qe=$e:Ae==="event"?Te=$e:Ae==="retry"?(I=pt($e,I),W=I):Ae==="heartbeatTimeout"&&(B=pt($e,B),ce!==0&&(e(ce),ce=o(function(){Xe()},B)))}if(ue===Re){if(Ne!==""){te=Qe,Te===""&&(Te="message");var ze=new Y(Te,{data:Ne.slice(1),lastEventId:Qe});if(u.dispatchEvent(ze),Te==="open"?Pe(u,u.onopen,ze):Te==="message"?Pe(u,u.onmessage,ze):Te==="error"&&Pe(u,u.onerror,ze),we===je)return}Ne="",Te=""}ue=me==="\r".charCodeAt(0)?ft:Re}else ue===Re&&(ht=le,ue=_t),ue===_t?me===":".charCodeAt(0)&&(Ve=le+1,ue=Lt):ue===Lt&&(ue=on)}}},It=function(se){if(we===Oe||we===Le){we=dt,ce!==0&&(e(ce),ce=0),ce=o(function(){Xe()},W),W=vt(Math.min(I*16,W*2)),u.readyState=Le;var ae=new We("error",{error:se});u.dispatchEvent(ae),Pe(u,u.onerror,ae),se!=null&&console.error(se)}},mt=function(){we=je,ve!=null&&(ve.abort(),ve=void 0),ce!==0&&(e(ce),ce=0),u.readyState=je},Xe=function(){if(ce=0,we!==dt){if(!K&&ve!=null)It(new Error("No activity within "+B+" milliseconds. "+(we===Le?"No response received.":J+" chars received.")+" Reconnecting.")),ve!=null&&(ve.abort(),ve=void 0);else{var se=Math.max((K||Date.now())+B-Date.now(),1);K=!1,ce=o(function(){Xe()},se)}return}K=!1,J=0,ce=o(function(){Xe()},B),we=Le,Ne="",Te="",Qe=te,Ze="",ht=0,Ve=0,ue=Re;var ae=S;if(S.slice(0,5)!=="data:"&&S.slice(0,5)!=="blob:"&&te!==""){var he=S.indexOf("?");ae=he===-1?S:S.slice(0,he+1)+S.slice(he+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function($e,ze){return ze===O?"":$e}),ae+=(S.indexOf("?")===-1?"?":"&")+O+"="+encodeURIComponent(te)}var me=u.withCredentials,de={};de.Accept="text/event-stream";var le=u.headers;if(le!=null)for(var Ae in le)Object.prototype.hasOwnProperty.call(le,Ae)&&(de[Ae]=le[Ae]);try{ve=qe.open(Ee,dn,fn,It,ae,me,de)}catch($e){throw mt(),$e}};u.url=S,u.readyState=Le,u.withCredentials=w,u.headers=P,u._close=mt,Xe()}ye.prototype=Object.create(H.prototype),ye.prototype.CONNECTING=Le,ye.prototype.OPEN=Oe,ye.prototype.CLOSED=je,ye.prototype.close=function(){this._close()},ye.CONNECTING=Le,ye.OPEN=Oe,ye.CLOSED=je,ye.prototype.withCredentials=void 0;var Rt=d;t!=null&&(d==null||!("withCredentials"in d.prototype))&&(Rt=ye),function(u){{var S=u(s);S!==void 0&&(r.exports=S)}}(function(u){u.EventSourcePolyfill=ye,u.NativeEventSource=d,u.EventSource=Rt})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:Ln:globalThis)})(bt,bt.exports);var Do=bt.exports;class oe{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(s,n=!1){return this.onePassHasher.start().appendStr(s).end(n)}static hashAsciiStr(s,n=!1){return this.onePassHasher.start().appendAsciiStr(s).end(n)}static _hex(s){const n=oe.hexChars,o=oe.hexOut;let e,t,a,l;for(l=0;l<4;l+=1)for(t=l*8,e=s[l],a=0;a<8;a+=2)o[t+1+a]=n.charAt(e&15),e>>>=4,o[t+0+a]=n.charAt(e&15),e>>>=4;return o.join("")}static _md5cycle(s,n){let o=s[0],e=s[1],t=s[2],a=s[3];o+=(e&t|~e&a)+n[0]-680876936|0,o=(o<<7|o>>>25)+e|0,a+=(o&e|~o&t)+n[1]-389564586|0,a=(a<<12|a>>>20)+o|0,t+=(a&o|~a&e)+n[2]+606105819|0,t=(t<<17|t>>>15)+a|0,e+=(t&a|~t&o)+n[3]-1044525330|0,e=(e<<22|e>>>10)+t|0,o+=(e&t|~e&a)+n[4]-176418897|0,o=(o<<7|o>>>25)+e|0,a+=(o&e|~o&t)+n[5]+1200080426|0,a=(a<<12|a>>>20)+o|0,t+=(a&o|~a&e)+n[6]-1473231341|0,t=(t<<17|t>>>15)+a|0,e+=(t&a|~t&o)+n[7]-45705983|0,e=(e<<22|e>>>10)+t|0,o+=(e&t|~e&a)+n[8]+1770035416|0,o=(o<<7|o>>>25)+e|0,a+=(o&e|~o&t)+n[9]-1958414417|0,a=(a<<12|a>>>20)+o|0,t+=(a&o|~a&e)+n[10]-42063|0,t=(t<<17|t>>>15)+a|0,e+=(t&a|~t&o)+n[11]-1990404162|0,e=(e<<22|e>>>10)+t|0,o+=(e&t|~e&a)+n[12]+1804603682|0,o=(o<<7|o>>>25)+e|0,a+=(o&e|~o&t)+n[13]-40341101|0,a=(a<<12|a>>>20)+o|0,t+=(a&o|~a&e)+n[14]-1502002290|0,t=(t<<17|t>>>15)+a|0,e+=(t&a|~t&o)+n[15]+1236535329|0,e=(e<<22|e>>>10)+t|0,o+=(e&a|t&~a)+n[1]-165796510|0,o=(o<<5|o>>>27)+e|0,a+=(o&t|e&~t)+n[6]-1069501632|0,a=(a<<9|a>>>23)+o|0,t+=(a&e|o&~e)+n[11]+643717713|0,t=(t<<14|t>>>18)+a|0,e+=(t&o|a&~o)+n[0]-373897302|0,e=(e<<20|e>>>12)+t|0,o+=(e&a|t&~a)+n[5]-701558691|0,o=(o<<5|o>>>27)+e|0,a+=(o&t|e&~t)+n[10]+38016083|0,a=(a<<9|a>>>23)+o|0,t+=(a&e|o&~e)+n[15]-660478335|0,t=(t<<14|t>>>18)+a|0,e+=(t&o|a&~o)+n[4]-405537848|0,e=(e<<20|e>>>12)+t|0,o+=(e&a|t&~a)+n[9]+568446438|0,o=(o<<5|o>>>27)+e|0,a+=(o&t|e&~t)+n[14]-1019803690|0,a=(a<<9|a>>>23)+o|0,t+=(a&e|o&~e)+n[3]-187363961|0,t=(t<<14|t>>>18)+a|0,e+=(t&o|a&~o)+n[8]+1163531501|0,e=(e<<20|e>>>12)+t|0,o+=(e&a|t&~a)+n[13]-1444681467|0,o=(o<<5|o>>>27)+e|0,a+=(o&t|e&~t)+n[2]-51403784|0,a=(a<<9|a>>>23)+o|0,t+=(a&e|o&~e)+n[7]+1735328473|0,t=(t<<14|t>>>18)+a|0,e+=(t&o|a&~o)+n[12]-1926607734|0,e=(e<<20|e>>>12)+t|0,o+=(e^t^a)+n[5]-378558|0,o=(o<<4|o>>>28)+e|0,a+=(o^e^t)+n[8]-2022574463|0,a=(a<<11|a>>>21)+o|0,t+=(a^o^e)+n[11]+1839030562|0,t=(t<<16|t>>>16)+a|0,e+=(t^a^o)+n[14]-35309556|0,e=(e<<23|e>>>9)+t|0,o+=(e^t^a)+n[1]-1530992060|0,o=(o<<4|o>>>28)+e|0,a+=(o^e^t)+n[4]+1272893353|0,a=(a<<11|a>>>21)+o|0,t+=(a^o^e)+n[7]-155497632|0,t=(t<<16|t>>>16)+a|0,e+=(t^a^o)+n[10]-1094730640|0,e=(e<<23|e>>>9)+t|0,o+=(e^t^a)+n[13]+681279174|0,o=(o<<4|o>>>28)+e|0,a+=(o^e^t)+n[0]-358537222|0,a=(a<<11|a>>>21)+o|0,t+=(a^o^e)+n[3]-722521979|0,t=(t<<16|t>>>16)+a|0,e+=(t^a^o)+n[6]+76029189|0,e=(e<<23|e>>>9)+t|0,o+=(e^t^a)+n[9]-640364487|0,o=(o<<4|o>>>28)+e|0,a+=(o^e^t)+n[12]-421815835|0,a=(a<<11|a>>>21)+o|0,t+=(a^o^e)+n[15]+530742520|0,t=(t<<16|t>>>16)+a|0,e+=(t^a^o)+n[2]-995338651|0,e=(e<<23|e>>>9)+t|0,o+=(t^(e|~a))+n[0]-198630844|0,o=(o<<6|o>>>26)+e|0,a+=(e^(o|~t))+n[7]+1126891415|0,a=(a<<10|a>>>22)+o|0,t+=(o^(a|~e))+n[14]-1416354905|0,t=(t<<15|t>>>17)+a|0,e+=(a^(t|~o))+n[5]-57434055|0,e=(e<<21|e>>>11)+t|0,o+=(t^(e|~a))+n[12]+1700485571|0,o=(o<<6|o>>>26)+e|0,a+=(e^(o|~t))+n[3]-1894986606|0,a=(a<<10|a>>>22)+o|0,t+=(o^(a|~e))+n[10]-1051523|0,t=(t<<15|t>>>17)+a|0,e+=(a^(t|~o))+n[1]-2054922799|0,e=(e<<21|e>>>11)+t|0,o+=(t^(e|~a))+n[8]+1873313359|0,o=(o<<6|o>>>26)+e|0,a+=(e^(o|~t))+n[15]-30611744|0,a=(a<<10|a>>>22)+o|0,t+=(o^(a|~e))+n[6]-1560198380|0,t=(t<<15|t>>>17)+a|0,e+=(a^(t|~o))+n[13]+1309151649|0,e=(e<<21|e>>>11)+t|0,o+=(t^(e|~a))+n[4]-145523070|0,o=(o<<6|o>>>26)+e|0,a+=(e^(o|~t))+n[11]-1120210379|0,a=(a<<10|a>>>22)+o|0,t+=(o^(a|~e))+n[2]+718787259|0,t=(t<<15|t>>>17)+a|0,e+=(a^(t|~o))+n[9]-343485551|0,e=(e<<21|e>>>11)+t|0,s[0]=o+s[0]|0,s[1]=e+s[1]|0,s[2]=t+s[2]|0,s[3]=a+s[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(oe.stateIdentity),this}appendStr(s){const n=this._buffer8,o=this._buffer32;let e=this._bufferLength,t,a;for(a=0;a<s.length;a+=1){if(t=s.charCodeAt(a),t<128)n[e++]=t;else if(t<2048)n[e++]=(t>>>6)+192,n[e++]=t&63|128;else if(t<55296||t>56319)n[e++]=(t>>>12)+224,n[e++]=t>>>6&63|128,n[e++]=t&63|128;else{if(t=(t-55296)*1024+(s.charCodeAt(++a)-56320)+65536,t>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[e++]=(t>>>18)+240,n[e++]=t>>>12&63|128,n[e++]=t>>>6&63|128,n[e++]=t&63|128}e>=64&&(this._dataLength+=64,oe._md5cycle(this._state,o),e-=64,o[0]=o[16])}return this._bufferLength=e,this}appendAsciiStr(s){const n=this._buffer8,o=this._buffer32;let e=this._bufferLength,t,a=0;for(;;){for(t=Math.min(s.length-a,64-e);t--;)n[e++]=s.charCodeAt(a++);if(e<64)break;this._dataLength+=64,oe._md5cycle(this._state,o),e=0}return this._bufferLength=e,this}appendByteArray(s){const n=this._buffer8,o=this._buffer32;let e=this._bufferLength,t,a=0;for(;;){for(t=Math.min(s.length-a,64-e);t--;)n[e++]=s[a++];if(e<64)break;this._dataLength+=64,oe._md5cycle(this._state,o),e=0}return this._bufferLength=e,this}getState(){const s=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[s[0],s[1],s[2],s[3]]}}setState(s){const n=s.buffer,o=s.state,e=this._state;let t;for(this._dataLength=s.length,this._bufferLength=s.buflen,e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=o[3],t=0;t<n.length;t+=1)this._buffer8[t]=n.charCodeAt(t)}end(s=!1){const n=this._bufferLength,o=this._buffer8,e=this._buffer32,t=(n>>2)+1;this._dataLength+=n;const a=this._dataLength*8;if(o[n]=128,o[n+1]=o[n+2]=o[n+3]=0,e.set(oe.buffer32Identity.subarray(t),t),n>55&&(oe._md5cycle(this._state,e),e.set(oe.buffer32Identity)),a<=4294967295)e[14]=a;else{const l=a.toString(16).match(/(.*?)(.{0,8})$/);if(l===null)return;const d=parseInt(l[2],16),f=parseInt(l[1],16)||0;e[14]=d,e[15]=f}return oe._md5cycle(this._state,e),s?this._state:oe._hex(this._state)}}oe.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);oe.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);oe.hexChars="0123456789abcdef";oe.hexOut=[];oe.onePassHasher=new oe;if(oe.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");const Oo={class:"notify"},Po={class:"notify-history"},Ot=99,No=400,zo=Q({__name:"index",setup(r){const s=Be(),n=St(),o=G(),e=G(!1);function t(){Hn().then(C=>{o.value=C.data.count.toString()}).catch(()=>{o.value="0"})}t();function a(){const C=n.username;let b=null;const m=oe.hashStr(C);if(window.EventSource){const g=qt(),A={heartbeatTimeout:180*1e3};g&&(A.headers={Authorization:`Bearer ${g}`}),b=new Do.EventSourcePolyfill(`/api/v1/notify/refresh/${m}`,A),b.onopen=function(T){},b.onmessage=function(T){try{l(T.data)}catch($){console.error("解析通知数据失败:",$)}},b.onerror=function(T){console.error("SSE连接错误:",T)}}}a();function l(C){o.value=C}const d=G("通知"),f=()=>{e.value=!0,Un().then(C=>{var b;_.value.list=((b=C==null?void 0:C.data)==null?void 0:b.list)||[]}).catch(()=>{_.value.list=[]}).finally(()=>{e.value=!1})},_=G({name:"通知",type:"primary",list:[]}),c=()=>{s.push("/setting/noticeHistory")};return(C,b)=>{const m=E("el-icon"),g=E("el-tooltip"),A=E("el-badge"),T=E("el-scrollbar"),$=E("el-tab-pane"),D=E("el-tabs"),N=E("el-button"),U=E("el-popover"),z=gn("loading");return h(),F("div",Oo,[i(U,{placement:"bottom",width:No,trigger:"click",transition:"el-zoom-in-top","popper-class":"notify-popover"},{reference:p(()=>[i(A,{value:o.value,max:Ot,hidden:o.value==="0",onclick:f()},{default:p(()=>[i(g,{effect:"dark",content:"消息通知",placement:"bottom"},{default:p(()=>[i(m,{size:20,class:"bell-icon"},{default:p(()=>[i(x(Xt))]),_:1})]),_:1})]),_:1},8,["value","hidden","onclick"])]),default:p(()=>[Je((h(),M(D,{modelValue:d.value,"onUpdate:modelValue":b[0]||(b[0]=k=>d.value=k),class:"demo-tabs",stretch:""},{default:p(()=>[i($,{name:_.value.name},{label:p(()=>[ie(pe(_.value.name)+" ",1),i(A,{value:o.value,max:Ot,type:_.value.type},null,8,["value","type"])]),default:p(()=>[i(T,{height:"400px",class:"notify-scrollbar"},{default:p(()=>{var k,R;return[i(Vo,{list:((R=(k=_.value)==null?void 0:k.list)==null?void 0:R.map(y=>({...y,description:y.content,datetime:new Date(y.createTime).toLocaleString(),report:{id:0}})))||[]},null,8,["list"])]}),_:1})]),_:1},8,["name"])]),_:1},8,["modelValue"])),[[z,e.value]]),v("div",Po,[i(N,{link:"",onClick:c},{default:p(()=>[ie("查看"+pe(d.value)+"历史",1)]),_:1})])]),_:1})])}}});const Ho=ee(zo,[["__scopeId","data-v-f0104eaa"]]),Pt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],ke=(()=>{if(typeof document>"u")return!1;const r=Pt[0],s={};for(const n of Pt)if((n==null?void 0:n[1])in document){for(const[e,t]of n.entries())s[r[e]]=t;return s}return!1})(),Nt={change:ke.fullscreenchange,error:ke.fullscreenerror};let ge={request(r=document.documentElement,s){return new Promise((n,o)=>{const e=()=>{ge.off("change",e),n()};ge.on("change",e);const t=r[ke.requestFullscreen](s);t instanceof Promise&&t.then(e).catch(o)})},exit(){return new Promise((r,s)=>{if(!ge.isFullscreen){r();return}const n=()=>{ge.off("change",n),r()};ge.on("change",n);const o=document[ke.exitFullscreen]();o instanceof Promise&&o.then(n).catch(s)})},toggle(r,s){return ge.isFullscreen?ge.exit():ge.request(r,s)},onchange(r){ge.on("change",r)},onerror(r){ge.on("error",r)},on(r,s){const n=Nt[r];n&&document.addEventListener(n,s,!1)},off(r,s){const n=Nt[r];n&&document.removeEventListener(n,s,!1)},raw:ke};Object.defineProperties(ge,{isFullscreen:{get:()=>!!document[ke.fullscreenElement]},element:{enumerable:!0,get:()=>document[ke.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[ke.fullscreenEnabled]}});ke||(ge={isEnabled:!1});const He=ge,Uo=Q({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(r){const s=r,n=G(!1),o=j(()=>n.value?s.exitTips:s.openTips),e=j(()=>n.value?"fullscreen-exit":"fullscreen"),t=()=>{const c=document.querySelector(s.element)||void 0;He.isEnabled?He.toggle(c):Ie.warning("您的浏览器无法工作")},a=()=>{n.value=He.isFullscreen};at(c=>{He.on("change",a),c(()=>{He.isEnabled&&He.off("change",a)})});const l=G(!1),d=j(()=>l.value?"内容区复原":"内容区放大"),f=j(()=>l.value?"fullscreen-exit":"fullscreen"),_=()=>{document.body.className=l.value?"":"content-large",l.value=!l.value};return(c,C)=>{const b=E("SvgIcon"),m=E("el-tooltip"),g=E("el-dropdown-item"),A=E("el-dropdown-menu"),T=E("el-dropdown");return h(),F("div",null,[c.content?(h(),M(T,{key:1},{dropdown:p(()=>[i(A,null,{default:p(()=>[i(g,{onClick:_},{default:p(()=>[ie(pe(d.value),1)]),_:1}),i(g,{onClick:t,disabled:n.value},{default:p(()=>[ie("内容区全屏")]),_:1},8,["disabled"])]),_:1})]),default:p(()=>[i(b,{name:f.value},null,8,["name"])]),_:1})):(h(),M(m,{key:0,effect:"dark",content:o.value,placement:"bottom"},{default:p(()=>[i(b,{name:e.value,onClick:t},null,8,["name"])]),_:1},8,["content"]))])}}});const tn=ee(Uo,[["__scopeId","data-v-87f6623b"]]),Bo=["onMouseenter"],Wo={class:"result-item-title"},jo=Q({__name:"SearchResult",props:{modelValue:{},list:{},isPressUpOrDown:{type:Boolean}},emits:["update:modelValue"],setup(r,{expose:s,emit:n}){const o=r,e=Bt(),t=G(0),a=j({get(){return o.modelValue},set(c){n("update:modelValue",c)}}),l=c=>{const C=c.name===a.value;return{background:C?"var(--el-color-primary)":"",color:C?"#fff":""}},d=c=>{o.isPressUpOrDown||(a.value=c.name)},f=()=>{t.value=Number((window.innerHeight*.4).toFixed(1))},_=c=>{var g;const C=(g=e==null?void 0:e.proxy)==null?void 0:g.$refs[`resultItemRef${c}`];if(!C)return 0;const m=C[0].offsetTop+128;return m>t.value?m-t.value:0};return Ht(()=>{window.addEventListener("resize",f)}),yt(()=>{f()}),wt(()=>{window.removeEventListener("resize",f)}),s({getScrollTop:_}),(c,C)=>{const b=E("SvgIcon");return h(),F("div",null,[(h(!0),F(_e,null,Fe(c.list,(m,g)=>{var A,T,$;return h(),F("div",{key:g,ref_for:!0,ref:`resultItemRef${g}`,class:"result-item",style:Wt(l(m)),onMouseenter:D=>d(m)},[(A=m.meta)!=null&&A.svgIcon?(h(),M(b,{key:0,name:m.meta.svgIcon},null,8,["name"])):(T=m.meta)!=null&&T.elIcon?(h(),M(Ke(m.meta.elIcon),{key:1,class:"el-icon"})):X("",!0),v("span",Wo,pe(($=m.meta)==null?void 0:$.title),1),a.value&&a.value===m.name?(h(),M(b,{key:2,name:"keyboard-enter"})):X("",!0)],44,Bo)}),128))])}}});const qo=ee(jo,[["__scopeId","data-v-b9435321"]]),At=r=>(lt("data-v-6eeb9275"),r=r(),it(),r),Xo={class:"search-footer"},Go={class:"search-footer-item"},Ko=At(()=>v("span",null,"确认",-1)),Jo={class:"search-footer-item"},Qo=At(()=>v("span",null,"切换",-1)),Zo={class:"search-footer-item"},Yo=At(()=>v("span",null,"关闭",-1)),ea={class:"search-footer-total"},ta=Q({__name:"SearchFooter",props:{total:{}},setup(r){const s=r,n=Me(),o=j(()=>n.device===be.Mobile);return(e,t)=>{const a=E("SvgIcon");return h(),F("div",Xo,[o.value?X("",!0):(h(),F(_e,{key:0},[v("span",Go,[i(a,{name:"keyboard-enter"}),Ko]),v("span",Jo,[i(a,{name:"keyboard-up"}),i(a,{name:"keyboard-down"}),Qo]),v("span",Zo,[i(a,{name:"keyboard-esc"}),Yo])],64)),v("span",ea,"共 "+pe(s.total)+" 项",1)])}}});const na=ee(ta,[["__scopeId","data-v-6eeb9275"]]),oa=v("p",null,"搜索结果",-1),aa=Q({__name:"SearchModal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(r,{emit:s}){const n=r,o=Me(),e=Be(),t=G(null),a=G(null),l=G(null),d=G(""),f=bn([]),_=G(void 0),c=G(!1),C=j(()=>o.device===be.Mobile?"80vw":"40vw"),b=j({get(){return n.modelValue},set(k){s("update:modelValue",k)}}),m=j(()=>Rn(xt().routes)),g=Ge(()=>{var y;const k=A(m.value);f.value=k.filter(H=>{var Z,V;return d.value?(V=(Z=H.meta)==null?void 0:Z.title)==null?void 0:V.toLocaleLowerCase().includes(d.value.toLocaleLowerCase().trim()):!1});const R=(y=f.value)==null?void 0:y.length;_.value=R>0?f.value[0].name:void 0},500),A=(k,R=[])=>(k.forEach(y=>{R.push(y),y.children&&A(y.children,R)}),R),T=()=>{b.value=!1,setTimeout(()=>{d.value="",f.value=[]},200)},$=k=>{var y;if(!l.value)return;const R=l.value.getScrollTop(k);(y=a.value)==null||y.setScrollTop(R)},D=()=>{c.value=!0;const{length:k}=f.value;if(k===0)return;const R=f.value.findIndex(y=>y.name===_.value);if(R===0){const y=f.value[k-1].name;_.value===y&&k>1?(_.value=f.value[k-2].name,$(k-2)):(_.value=y,$(k-1))}else _.value=f.value[R-1].name,$(R-1)},N=()=>{c.value=!0;const{length:k}=f.value;if(k===0)return;const R=f.value.map(y=>y.name).lastIndexOf(_.value);if(R===k-1){const y=f.value[0].name;_.value===y&&k>1?(_.value=f.value[1].name,$(1)):(_.value=y,$(0))}else _.value=f.value[R+1].name,$(R+1)},U=()=>{var H;const{length:k}=f.value;if(k===0)return;const R=_.value,y=(H=f.value.find(Z=>Z.name===R))==null?void 0:H.path;if(y&&st(y)){window.open(y,"_blank","noopener, noreferrer");return}if(!R){Ie.warning("无法通过搜索进入该菜单，请为对应的路由设置唯一的 Name");return}try{e.push({name:R})}catch{Ie.error("该菜单有必填的动态参数，无法通过搜索进入");return}T()},z=()=>{c.value=!1};return(k,R)=>{const y=E("SvgIcon"),H=E("el-input"),Z=E("el-empty"),V=E("el-dialog");return h(),M(V,{modelValue:b.value,"onUpdate:modelValue":R[2]||(R[2]=Y=>b.value=Y),onOpened:R[3]||(R[3]=Y=>{var q;return(q=t.value)==null?void 0:q.focus()}),onClosed:R[4]||(R[4]=Y=>{var q;return(q=t.value)==null?void 0:q.blur()}),onKeydown:[Ye(D,["up"]),Ye(N,["down"]),Ye(U,["enter"])],onKeyup:Ye(z,["up","down"]),"before-close":T,width:C.value,top:"5vh",class:"search-modal__private","append-to-body":""},{footer:p(()=>[i(na,{total:f.value.length},null,8,["total"])]),default:p(()=>[i(H,{ref_key:"inputRef",ref:t,modelValue:d.value,"onUpdate:modelValue":R[0]||(R[0]=Y=>d.value=Y),onInput:x(g),placeholder:"搜索菜单",size:"large",clearable:""},{prefix:p(()=>[i(y,{name:"search"})]),_:1},8,["modelValue","onInput"]),f.value.length===0?(h(),M(Z,{key:0,description:"暂无搜索结果","image-size":100})):(h(),F(_e,{key:1},[oa,i(x(Kt),{ref_key:"scrollbarRef",ref:a,"max-height":"40vh",always:""},{default:p(()=>[i(qo,{ref_key:"searchResultRef",ref:l,modelValue:_.value,"onUpdate:modelValue":R[1]||(R[1]=Y=>_.value=Y),list:f.value,isPressUpOrDown:c.value,onClick:U},null,8,["modelValue","list","isPressUpOrDown"])]),_:1},512)],64))]),_:1},8,["modelValue","onKeydown","onKeyup","width"])}}});const sa=Q({__name:"index",setup(r){const s=G(!1),n=()=>{s.value=!0};return(o,e)=>{const t=E("SvgIcon"),a=E("el-tooltip");return h(),F("div",null,[i(a,{effect:"dark",content:"搜索菜单",placement:"bottom"},{default:p(()=>[i(t,{name:"search",onClick:n})]),_:1}),i(aa,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value=l)},null,8,["modelValue"])])}}});const ra=ee(sa,[["__scopeId","data-v-08a5029a"]]),re=r=>(lt("data-v-6d4637bf"),r=r(),it(),r),la={class:"steps-wrapper"},ia={class:"content-wrapper"},ca={key:0,class:"download_div animate-fade-in"},ua={class:"step-content-header"},da=re(()=>v("b",null,"1. 下载iast-engine.jar",-1)),fa={class:"code-block-wrapper"},_a={class:"code-block-header"},pa=re(()=>v("span",null,"命令行下载",-1)),va={class:"step-content-header"},ha=re(()=>v("b",null,"2. 下载iast-agent.jar",-1)),ma={class:"code-block-wrapper"},ga={class:"code-block-header"},ba=re(()=>v("span",null,"命令行下载",-1)),ya={class:"step-content-header"},wa=re(()=>v("b",null,"3. 准备工作",-1)),xa=re(()=>v("p",{class:"info-text"},"将iast-agent.jar和iast-engine.jar放在同一文件夹中，确保两者版本兼容。",-1)),Sa={key:1,class:"download_div animate-fade-in"},Ca={class:"app-selection-wrapper"},Ea=re(()=>v("b",null,"绑定应用：",-1)),Ta={class:"card-header"},Aa=re(()=>v("div",{class:"header-text"},[v("span",{style:{"font-weight":"bold"}},"离线接入"),v("p",{class:"header-description"},"应用未启动时，将指定配置加入应用jvm启动项，跟随启动")],-1)),$a={class:"code-block-wrapper"},ka={class:"code-block-header"},La=re(()=>v("span",null,"启动参数",-1)),Ra={class:"card-header"},Ia=re(()=>v("div",{class:"header-text"},[v("span",{style:{"font-weight":"bold"}},"动态接入"),v("p",{class:"header-description"},"应用启动时，采用attach方式接入到应用")],-1)),Fa=re(()=>v("div",{class:"step-instruction"},[v("p",{class:"instruction-title"},"1. 获取应用进程号"),v("div",{class:"instruction-list"},[v("div",{class:"instruction-item"},[v("span",{class:"os-label"},"Windows:"),v("code",null,"tasklist")]),v("div",{class:"instruction-item"},[v("span",{class:"os-label"},"Linux:"),v("code",null,"ps -ef")])])],-1)),Ma=re(()=>v("p",{class:"instruction-title"},"2. 执行命令接入：",-1)),Va={class:"code-block-wrapper"},Da={class:"code-block-header"},Oa=re(()=>v("span",null,"安装命令",-1)),Pa={key:2,class:"download_div animate-fade-in success-step"},Na={class:"success-icon-wrapper"},za=re(()=>v("h3",{class:"success-title"},"安装成功！",-1)),Ha=re(()=>v("p",{class:"success-description"},"Agent已成功配置。您现在可以开始使用iast进行安全监控。",-1)),Ua={class:"step-content-header"},Ba=re(()=>v("b",null,"后续建议",-1)),Wa=re(()=>v("ul",{class:"suggestion-list"},[v("li",null,"验证Agent是否正常运行"),v("li",null,"查看监控数据是否正常收集"),v("li",null,"定期更新Agent以获取最新功能和安全修复")],-1)),ja={class:"button-wrapper"},qa={key:0},Xa=re(()=>v("span",null,"下一步",-1)),Ga=Q({__name:"add-agent-modal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(r,{emit:s}){const n=r,o=j({get(){return n.modelValue&&(C(),a.value="default",l.value=0),n.modelValue},set(T){s("update:modelValue",T)}}),e=G(),t=G(),a=G("default"),l=G(0),d=()=>{l.value++>1&&(o.value=!1)},f=()=>{l.value--},_={pageSize:999,pageNum:1},c=G(),C=()=>{jn(_).then(T=>{c.value=T.data}).catch(()=>{c.value=[]})};function b(T){const $=De()+`/api/v1/agent/download?fileName=${T}&serverUrl=${De()}`,D=qt();Cn({method:"get",baseURL:$,data:{},headers:{Authorization:D?`Bearer ${D}`:void 0},responseType:"blob"}).then(N=>{const U=N.data;if(!U)return;const z=window.URL.createObjectURL(new Blob([U])),k=document.createElement("a");k.style.display="none",k.href=z,k.setAttribute("download",`iast-${T}.jar`),document.body.appendChild(k),k.click(),window.URL.revokeObjectURL(k.href),document.body.removeChild(k)}).catch(N=>{Ie.error("下载失败")})}function m(){Wn().then(T=>{let $="engine";e.value=`curl "${De()}/api/v1/agent/download?fileName=${$}&serverUrl=${De()}" --header "Authorization:Bearer ${T.data}" -o iast-${$}.jar`,$="agent",t.value=`curl "${De()}/api/v1/agent/download?fileName=${$}&serverUrl=${De()}" --header "Authorization:Bearer ${T.data}" -o iast-${$}.jar`})}m();function g(T){b(T)}function A(T){navigator.clipboard.writeText(T).then(()=>{Ie.success("复制成功")}).catch(()=>{Ie.error("复制失败，请手动复制")})}return(T,$)=>{const D=E("el-step"),N=E("el-steps"),U=E("el-icon"),z=E("el-button"),k=E("el-input"),R=E("el-card"),y=E("el-option"),H=E("el-select"),Z=E("el-text"),V=E("el-col"),Y=E("el-dialog");return h(),M(Y,{modelValue:o.value,"onUpdate:modelValue":$[9]||($[9]=q=>o.value=q),top:"5vh",class:"search-modal__private add-agent-modal","append-to-body":"",width:"720px",title:"添加Agent","close-on-click-modal":!1},{default:p(()=>[v("div",la,[i(N,{active:l.value,"finish-status":"success","align-center":""},{default:p(()=>[i(D,{title:"下载",description:"获取必要的Agent文件"}),i(D,{title:"安装",description:"根据环境选择安装方式"}),i(D,{title:"完成",description:"安装配置完成"})]),_:1},8,["active"])]),v("div",ia,[l.value==0?(h(),F("div",ca,[i(R,{class:"card-install"},{default:p(()=>[v("div",ua,[i(U,{class:"step-icon"},{default:p(()=>[i(x(Mt))]),_:1}),da,i(z,{class:"download-btn",type:"primary",onClick:$[0]||($[0]=q=>g("engine"))},{default:p(()=>[ie("直接下载")]),_:1})]),v("div",fa,[v("div",_a,[pa,i(z,{size:"small",class:"copy-btn",onClick:$[1]||($[1]=q=>A(e.value)),icon:x(et),circle:""},null,8,["icon"])]),i(k,{type:"textarea",modelValue:e.value,"onUpdate:modelValue":$[2]||($[2]=q=>e.value=q),readonly:""},null,8,["modelValue"])])]),_:1}),i(R,{class:"card-install"},{default:p(()=>[v("div",va,[i(U,{class:"step-icon"},{default:p(()=>[i(x(Mt))]),_:1}),ha,i(z,{class:"download-btn",type:"primary",onClick:$[3]||($[3]=q=>g("agent"))},{default:p(()=>[ie("直接下载")]),_:1})]),v("div",ma,[v("div",ga,[ba,i(z,{size:"small",class:"copy-btn",onClick:$[4]||($[4]=q=>A(t.value)),icon:x(et),circle:""},null,8,["icon"])]),i(k,{type:"textarea",modelValue:t.value,"onUpdate:modelValue":$[5]||($[5]=q=>t.value=q),readonly:""},null,8,["modelValue"])])]),_:1}),i(R,{class:"card-install info-card"},{default:p(()=>[v("div",ya,[i(U,{class:"step-icon"},{default:p(()=>[i(x(Gt))]),_:1}),wa]),xa]),_:1})])):X("",!0),l.value==1?(h(),F("div",Sa,[v("div",Ca,[Ea,i(H,{modelValue:a.value,"onUpdate:modelValue":$[6]||($[6]=q=>a.value=q),"default-first-option":"",clearable:"",placeholder:"请选择应用"},{default:p(()=>[(h(!0),F(_e,null,Fe(c.value,q=>(h(),M(y,{key:q.id,label:q.name,value:q.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),i(R,{class:"card-install"},{header:p(()=>[v("div",Ta,[i(U,{class:"card-icon"},{default:p(()=>[i(x(Jt))]),_:1}),Aa])]),default:p(()=>[i(Z,{class:"step-description"},{default:p(()=>[ie("启动应用时，增加配置：")]),_:1}),v("div",$a,[v("div",ka,[La,i(z,{size:"small",class:"copy-btn",onClick:$[7]||($[7]=q=>A(`-javaagent:/[path]/iast-agent.jar -Diast.app.name=${a.value}`)),icon:x(et),circle:""},null,8,["icon"])]),i(k,{type:"textarea",readonly:"",value:`-javaagent:/[path]/iast-agent.jar -Diast.app.name=${a.value}`},null,8,["value"])])]),_:1}),i(R,{class:"card-install"},{header:p(()=>[v("div",Ra,[i(U,{class:"card-icon"},{default:p(()=>[i(x(In))]),_:1}),Ia])]),default:p(()=>[Fa,Ma,v("div",Va,[v("div",Da,[Oa,i(z,{size:"small",class:"copy-btn",onClick:$[8]||($[8]=q=>A(`java -jar iast-engine.jar -m install -p [PID] -a ${a.value}`)),icon:x(et),circle:""},null,8,["icon"])]),i(k,{type:"textarea",readonly:"",value:`java -jar iast-engine.jar -m install -p [PID] -a ${a.value}`},null,8,["value"])])]),_:1})])):X("",!0),l.value==2?(h(),F("div",Pa,[v("div",Na,[i(U,{class:"success-icon"},{default:p(()=>[i(x(Fn))]),_:1})]),za,Ha,i(R,{class:"card-install info-card"},{default:p(()=>[v("div",Ua,[i(U,{class:"step-icon"},{default:p(()=>[i(x(Mn))]),_:1}),Ba]),Wa]),_:1})])):X("",!0)]),v("div",ja,[i(V,{span:12},{default:p(()=>[l.value==1||l.value==2?(h(),F("div",qa,[i(z,{class:"nav-button",onClick:f,size:"default"},{default:p(()=>[i(U,null,{default:p(()=>[i(x(Qt))]),_:1}),ie(" 上一步 ")]),_:1})])):X("",!0)]),_:1}),i(V,{span:12,class:"text-right"},{default:p(()=>[i(z,{class:"nav-button primary-button",type:"primary",onClick:d,size:"default",loading:!1},{default:p(()=>[l.value<2?(h(),F(_e,{key:0},[Xa,i(U,null,{default:p(()=>[i(x(Zt))]),_:1})],64)):(h(),F(_e,{key:1},[ie(" 完成 ")],64))]),_:1})]),_:1})])]),_:1},8,["modelValue"])}}});const Ka=ee(Ga,[["__scopeId","data-v-6d4637bf"]]),Ja=Q({__name:"index",setup(r){const s=G(!1),n=()=>{s.value=!0};return(o,e)=>{const t=E("el-button"),a=E("SvgIcon"),l=E("el-tooltip");return h(),F("div",null,[i(l,{effect:"dark",content:"添加Agent",placement:"bottom"},{default:p(()=>[i(t,{type:"primary",icon:x(Vn),onClick:n},{default:p(()=>[ie("添加Agent")]),_:1},8,["icon"]),i(a,{name:"search",onClick:n})]),_:1}),i(Ka,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=d=>s.value=d)},null,8,["modelValue"])])}}});const Qa=ee(Ja,[["__scopeId","data-v-24444237"]]),Za=r=>(lt("data-v-c1b2adf4"),r=r(),it(),r),Ya={class:"navigation-bar"},es={class:"right-menu"},ts=["href"],ns={class:"right-menu-avatar"},os={target:"_blank",href:"https://github.com/keven1z/simpleIAST"},as=Za(()=>v("span",{style:{display:"block"}},"退出登录",-1)),ss=Q({__name:"index",setup(r){const s=Be(),n=Me(),o=Ce(),e=St(),{sidebar:t,device:a}=xe(n),{layoutMode:l,showNotify:d,showThemeSwitch:f,showScreenfull:_,showSearchMenu:c}=xe(o),C=j(()=>l.value==="top"),b=j(()=>a.value===be.Mobile),m=()=>{n.toggleSidebar(!1)},g=()=>{e.logout(),s.push("/login")};return(A,T)=>{const $=E("el-icon"),D=E("el-tooltip"),N=E("el-avatar"),U=E("el-dropdown-item"),z=E("el-dropdown-menu"),k=E("el-dropdown");return h(),F("div",Ya,[!C.value||b.value?(h(),M(oo,{key:0,"is-active":x(t).opened,class:"hamburger",onToggleClick:m},null,8,["is-active"])):X("",!0),!C.value||b.value?(h(),M(po,{key:1,class:"breadcrumb"})):X("",!0),C.value&&!b.value?(h(),M(Tt,{key:2,class:"sidebar"})):X("",!0),v("div",es,[i(Qa),x(c)?(h(),M(ra,{key:0,class:"right-menu-item"})):X("",!0),x(_)?(h(),M(tn,{key:1,class:"right-menu-item"})):X("",!0),x(f)?(h(),M(Bn,{key:2,class:"right-menu-item"})):X("",!0),i(D,{effect:"dark",content:"API文档",placement:"bottom"},{default:p(()=>[x(f)?(h(),F("a",{key:0,class:"right-menu-item",href:x(De)()+"/doc.html",target:"_blank",style:{"text-decoration":"none",color:"#606266","font-size":"16px"}},[i($,{size:20},{default:p(()=>[i(x(Dn))]),_:1})],8,ts)):X("",!0)]),_:1}),x(d)?(h(),M(Ho,{key:3,class:"right-menu-item"})):X("",!0),i(k,{class:"right-menu-item"},{dropdown:p(()=>[i(z,null,{default:p(()=>[v("a",os,[i(U,null,{default:p(()=>[ie("GitHub")]),_:1})]),i(U,{divided:"",onClick:g},{default:p(()=>[as]),_:1})]),_:1})]),default:p(()=>[v("div",ns,[i(N,{icon:x(On),size:30},null,8,["icon"]),v("span",null,pe(x(e).username),1)])]),_:1})])])}}});const $t=ee(ss,[["__scopeId","data-v-c1b2adf4"]]),rs={class:"select-layout-mode"},ls=Q({__name:"SelectLayoutMode",setup(r){const s=Ce(),{layoutMode:n}=xe(s),o=j(()=>n.value==="left"),e=j(()=>n.value==="top"),t=j(()=>n.value==="left-top");return(a,l)=>{const d=E("el-aside"),f=E("el-header"),_=E("el-main"),c=E("el-container"),C=E("el-tooltip");return h(),F("div",rs,[i(C,{content:"左侧模式"},{default:p(()=>[i(c,{class:fe(["layout-mode left",{active:o.value}]),onClick:l[0]||(l[0]=b=>n.value="left")},{default:p(()=>[i(d),i(c,null,{default:p(()=>[i(f),i(_)]),_:1})]),_:1},8,["class"])]),_:1}),i(C,{content:"顶部模式"},{default:p(()=>[i(c,{class:fe(["layout-mode top",{active:e.value}]),onClick:l[1]||(l[1]=b=>n.value="top")},{default:p(()=>[i(f),i(_)]),_:1},8,["class"])]),_:1}),i(C,{content:"混合模式"},{default:p(()=>[i(c,{class:fe(["layout-mode left-top",{active:t.value}]),onClick:l[2]||(l[2]=b=>n.value="left-top")},{default:p(()=>[i(f),i(c,null,{default:p(()=>[i(d),i(_)]),_:1})]),_:1},8,["class"])]),_:1})])}}});const is=ee(ls,[["__scopeId","data-v-33bcccfb"]]),nn=r=>(lt("data-v-81cc5273"),r=r(),it(),r),cs={class:"setting-container"},us=nn(()=>v("h4",null,"布局配置",-1)),ds=nn(()=>v("h4",null,"功能配置",-1)),fs={class:"setting-name"},_s=Q({__name:"index",setup(r){const s=Ce(),{layoutMode:n,showTagsView:o,showLogo:e,fixedHeader:t,showNotify:a,showThemeSwitch:l,showScreenfull:d,showSearchMenu:f,cacheTagsView:_,showWatermark:c,showGreyMode:C,showColorWeakness:b}=xe(s),m={显示标签栏:o,"显示 Logo":e,"固定 Header":t,显示消息通知:a,显示切换主题按钮:l,显示全屏按钮:d,显示搜索按钮:f,是否缓存标签栏:_,开启系统水印:c,显示灰色模式:C,显示色弱模式:b};return at(()=>{n.value!=="left"&&(t.value=!0)}),(g,A)=>{const T=E("el-divider"),$=E("el-switch"),D=E("el-button");return h(),F("div",cs,[us,i(is),i(T),ds,(h(),F(_e,null,Fe(m,(N,U,z)=>v("div",{class:"setting-item",key:z},[v("span",fs,pe(U),1),i($,{modelValue:N.value,"onUpdate:modelValue":k=>N.value=k,disabled:x(n)!=="left"&&U==="固定 Header"},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),i(D,{type:"danger",icon:x(Pn),onClick:x(To)},{default:p(()=>[ie("重 置")]),_:1},8,["icon","onClick"])])}}});const ps=ee(_s,[["__scopeId","data-v-81cc5273"]]),vs={class:"scroll-container"},hs=200,ms=Q({__name:"ScrollPane",props:{tagRefs:{}},setup(r){const s=r,n=rt(),o=Ce(),{listenerRouteChange:e}=ut(),t=G(),a=G();let l=0;const d=({scrollLeft:b})=>{l=b},f=({deltaY:b})=>{/^-/.test(b.toString())?c("left"):c("right")},_=()=>{const b=a.value.clientWidth,m=t.value.wrapRef.clientWidth,g=b-m-l;return{scrollbarContentRefWidth:b,scrollbarRefWidth:m,lastDistance:g}},c=(b,m=hs)=>{let g=0;const{scrollbarContentRefWidth:A,scrollbarRefWidth:T,lastDistance:$}=_();T>A||(b==="left"?g=Math.max(0,l-m):g=Math.min(l+m,l+$),t.value.setScrollLeft(g))},C=()=>{const b=s.tagRefs;for(let m=0;m<b.length;m++)if(n.path===b[m].$props.to.path){const g=b[m].$el,A=g.offsetWidth,T=g.offsetLeft,{scrollbarRefWidth:$}=_();if(T<l){const N=l-T;c("left",N);return}const D=$+l-A;if(T>D){const N=T-D;c("right",N);return}}};return e(()=>{yn(C)}),(b,m)=>{const g=E("el-icon");return h(),F("div",vs,[i(g,{class:"arrow left",onClick:m[0]||(m[0]=A=>c("left"))},{default:p(()=>[i(x(Qt))]),_:1}),i(x(Kt),{ref_key:"scrollbarRef",ref:t,onWheelPassive:f,onScroll:d},{default:p(()=>[v("div",{ref_key:"scrollbarContentRef",ref:a,class:"scrollbar-content"},[ot(b.$slots,"default",{},void 0,!0)],512)]),_:3},512),i(g,{class:"arrow right",onClick:m[1]||(m[1]=A=>c("right"))},{default:p(()=>[i(x(Zt))]),_:1}),x(o).showScreenfull?(h(),M(tn,{key:0,element:".app-main",content:!0,class:"screenfull"})):X("",!0)])}}});const gs=ee(ms,[["__scopeId","data-v-1fe46ed3"]]),bs={class:"tags-view-container"},ys=Q({__name:"index",setup(r){const s=Bt(),n=Be(),o=rt(),e=jt(),t=xt(),{listenerRouteChange:a}=ut(),l=G([]),d=G(!1),f=G(0),_=G(0),c=G({});let C=[];const b=y=>y.path===o.path,m=y=>{var H;return(H=y.meta)==null?void 0:H.affix},g=(y,H="/")=>{const Z=[];return y.forEach(V=>{if(m(V)){const Y=en.resolve(H,V.path);Z.push({fullPath:Y,path:Y,name:V.name,meta:{...V.meta}})}if(V.children){const Y=g(V.children,V.path);Z.push(...Y)}}),Z},A=()=>{C=g(t.routes);for(const y of C)y.name&&e.addVisitedView(y)},T=y=>{y.name&&(e.addVisitedView(y),e.addCachedView(y))},$=y=>{e.delCachedView(y),n.replace({path:"/redirect"+y.path,query:y.query})},D=y=>{e.delVisitedView(y),e.delCachedView(y),b(y)&&z(e.visitedViews,y)},N=()=>{const y=c.value.fullPath;y!==o.path&&y!==void 0&&n.push(y),e.delOthersVisitedViews(c.value),e.delOthersCachedViews(c.value)},U=y=>{e.delAllVisitedViews(),e.delAllCachedViews(),!C.some(H=>H.path===o.path)&&z(e.visitedViews,y)},z=(y,H)=>{const Z=y.slice(-1)[0],V=Z==null?void 0:Z.fullPath;V!==void 0?n.push(V):H.name==="Dashboard"?n.push({path:"/redirect"+H.path,query:H.query}):n.push("/")},k=(y,H)=>{const V=s.proxy.$el.getBoundingClientRect().left,q=s.proxy.$el.offsetWidth-105,We=H.clientX-V+15;_.value=We>q?q:We,f.value=H.clientY,d.value=!0,c.value=y},R=()=>{d.value=!1};return zt(d,y=>{y?document.body.addEventListener("click",R):document.body.removeEventListener("click",R)}),yt(()=>{A(),a(async y=>{T(y)},!0)}),(y,H)=>{const Z=E("el-icon");return h(),F("div",bs,[i(gs,{class:"tags-view-wrapper","tag-refs":l.value},{default:p(()=>[(h(!0),F(_e,null,Fe(x(e).visitedViews,V=>(h(),M(x(wn),{ref_for:!0,ref_key:"tagRefs",ref:l,key:V.path,class:fe([{active:b(V)},"tags-view-item"]),to:{path:V.path,query:V.query},onMouseup:tt(Y=>!m(V)&&D(V),["middle"]),onContextmenu:tt(Y=>k(V,Y),["prevent"])},{default:p(()=>{var Y;return[ie(pe((Y=V.meta)==null?void 0:Y.title)+" ",1),m(V)?X("",!0):(h(),M(Z,{key:0,size:12,onClick:tt(q=>D(V),["prevent","stop"])},{default:p(()=>[i(x(Nn))]),_:2},1032,["onClick"]))]}),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),Je(v("ul",{class:"contextmenu",style:Wt({left:_.value+"px",top:f.value+"px"})},[v("li",{onClick:H[0]||(H[0]=V=>$(c.value))},"刷新"),m(c.value)?X("",!0):(h(),F("li",{key:0,onClick:H[1]||(H[1]=V=>D(c.value))},"关闭")),v("li",{onClick:N},"关闭其它"),v("li",{onClick:H[2]||(H[2]=V=>U(c.value))},"关闭所有")],4),[[ct,d.value]])])}}});const kt=ee(ys,[["__scopeId","data-v-29fc66f2"]]),ws=Q({__name:"index",props:{buttonTop:{default:350}},setup(r){const s=r;Ut(e=>({"0a230261":n}));const n=s.buttonTop+"px",o=G(!1);return(e,t)=>{const a=E("el-icon"),l=E("el-drawer");return h(),F(_e,null,[v("div",{class:"handle-button",onClick:t[0]||(t[0]=d=>o.value=!0)},[i(a,{size:24},{default:p(()=>[i(x(Jt))]),_:1})]),i(l,{modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=d=>o.value=d),size:"300px","with-header":!1},{default:p(()=>[ot(e.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}});const xs=ee(ws,[["__scopeId","data-v-560ea116"]]),Ss=Q({__name:"LeftMode",setup(r){const s=Me(),n=Ce(),{showTagsView:o,fixedHeader:e}=xe(n),t=j(()=>({hideSidebar:!s.sidebar.opened,openSidebar:s.sidebar.opened,withoutAnimation:s.sidebar.withoutAnimation,mobile:s.device===be.Mobile})),a=()=>{s.closeSidebar(!1)};return(l,d)=>(h(),F("div",{class:fe([t.value,"app-wrapper"])},[t.value.mobile&&t.value.openSidebar?(h(),F("div",{key:0,class:"drawer-bg",onClick:a})):X("",!0),i(x(Tt),{class:"sidebar-container"}),v("div",{class:fe([{hasTagsView:x(o)},"main-container"])},[v("div",{class:fe([{"fixed-header":x(e)},"layout-header"])},[i(x($t)),Je(i(x(kt),null,null,512),[[ct,x(o)]])],2),i(x(Ct),{class:"app-main"})],2)],2))}});const Cs=ee(Ss,[["__scopeId","data-v-13095ddf"]]),Es={class:"app-wrapper"},Ts={class:"fixed-header layout-header"},As={class:"content"},$s=Q({__name:"TopMode",setup(r){const s=Ce(),{showTagsView:n,showLogo:o}=xe(s);return(e,t)=>(h(),F("div",Es,[v("div",Ts,[v("div",As,[x(o)?(h(),M(x(Et),{key:0,collapse:!1,class:"logo"})):X("",!0),i(x($t),{class:"navigation-bar"})]),Je(i(x(kt),null,null,512),[[ct,x(n)]])]),v("div",{class:fe([{hasTagsView:x(n)},"main-container"])},[i(x(Ct),{class:"app-main"})],2)]))}});const ks=ee($s,[["__scopeId","data-v-004b3958"]]),Ls={class:"fixed-header layout-header"},Rs={class:"content"},Is=Q({__name:"LeftTopMode",setup(r){const s=Me(),n=Ce(),{showTagsView:o,showLogo:e}=xe(n),t=j(()=>({hideSidebar:!s.sidebar.opened}));return(a,l)=>(h(),F("div",{class:fe([t.value,"app-wrapper"])},[v("div",Ls,[x(e)?(h(),M(x(Et),{key:0,collapse:!1,class:"logo"})):X("",!0),v("div",Rs,[i(x($t)),Je(i(x(kt),null,null,512),[[ct,x(o)]])])]),v("div",{class:fe([{hasTagsView:x(o)},"main-container"])},[i(x(Tt),{class:"sidebar-container"}),i(x(Ct),{class:"app-main"})],2)],2))}});const Fs=ee(Is,[["__scopeId","data-v-febf122c"]]),gt="--v3-tagsview-height",Ms=Q({__name:"index",setup(r){Kn();const{setWatermark:s,clearWatermark:n}=Zn(),o=Me(),e=Ce(),t=St(),{showSettings:a,layoutMode:l,showTagsView:d,showWatermark:f,showGreyMode:_,showColorWeakness:c}=xe(e),C=j(()=>({showGreyMode:_.value,showColorWeakness:c.value})),b=nt(gt);return at(()=>{d.value?Dt(gt,b):Dt(gt,"0px")}),at(()=>{f.value?s(t.username):n()}),(m,g)=>(h(),F("div",{class:fe(C.value)},[x(l)==="left"||x(o).device===x(be).Mobile?(h(),M(Cs,{key:0})):x(l)==="top"?(h(),M(ks,{key:1})):x(l)==="left-top"?(h(),M(Fs,{key:2})):X("",!0),x(a)?(h(),M(x(xs),{key:3},{default:p(()=>[i(x(ps))]),_:1})):X("",!0)],2))}});const Bs=ee(Ms,[["__scopeId","data-v-ebb8c194"]]);export{Bs as default};
