import{aB as fn,Z as _n,r as j,d as Pt,E as Ht,b as bt,A as yt,p as J,ai as E,q as h,t as V,v as p,U as i,O as v,W as pn,M,aC as vn,u as S,Q as Ge,aD as st,aE as Be,F as pe,a8 as Me,T as ve,a2 as et,H as nt,f as W,aa as hn,R as q,S as ie,I as _e,aF as Se,aG as zt,aq as mn,P as Ke,w as ot,a as Ut,J as Bt,aH as rt,aI as lt,s as gn,a9 as Ze,n as bn,aJ as yn,V as it}from"./vue-8cd83afb.js";import{g as wn,s as It,u as ct,a as Wt,_ as Y,b as Ee,r as xn,c as wt,d as xt,e as jt,f as Sn}from"./index-7d92c181.js";import{e as Xe,f as Cn,h as En,g as Tn,j as qt,k as Xt,l as An,w as $n,E as Fe,c as kn,n as Ln,o as Gt,p as Ft,q as Ye,s as Kt,r as Rn,t as In,u as Fn,v as Jt,x as Qt,y as Mn,z as Vn,A as Dn,B as On}from"./element-25094948.js";import"./vxe-49b9e5de.js";import{r as Nn,a as Pn,b as Hn}from"./index-05f128ae.js";import{_ as zn}from"./index.vue_vue_type_script_setup_true_lang-9ce3109b.js";import{g as Un}from"./index-b8d5ef49.js";import{g as Bn}from"./index-617a4af0.js";var ye=(r=>(r[r.Mobile=0]="Mobile",r[r.Desktop=1]="Desktop",r))(ye||{});const Wn="opened",Zt="closed";function jn(r){r?It(Wn):It(Zt)}const Ve=fn("app",()=>{const r=_n({opened:wn()!==Zt,withoutAnimation:!1}),s=j(ye.Desktop);return Pt(()=>r.opened,t=>jn(t)),{device:s,sidebar:r,toggleSidebar:t=>{r.opened=!r.opened,r.withoutAnimation=t},closeSidebar:t=>{r.opened=!1,r.withoutAnimation=t},toggleDevice:t=>{s.value=t}}}),qn=992,Xn=()=>{const r=Ve(),{listenerRouteChange:s}=ct(),n=()=>document.body.getBoundingClientRect().width-1<qn,o=()=>{if(!document.hidden){const e=n();r.toggleDevice(e?ye.Mobile:ye.Desktop),e&&r.closeSidebar(!0)}};s(()=>{r.device===ye.Mobile&&r.sidebar.opened&&r.closeSidebar(!1)}),Ht(()=>{window.addEventListener("resize",o)}),bt(()=>{n()&&(r.toggleDevice(ye.Mobile),r.closeSidebar(!0))}),yt(()=>{window.removeEventListener("resize",o)})},Gn={color:"#c0c4cc",opacity:.5,size:16,family:"serif",angle:-20,width:300,height:100},Kn=j(document.body);function Jn(r=Kn){let s,n,o=null;const e={mutationObserver:void 0,resizeObserver:void 0},t=(g,A={})=>{if(!r.value){console.warn("请在 DOM 挂载完成后再调用 setWatermark 方法设置水印");return}s=g,n={...Gn,...A},a(),c(r.value)},a=()=>{if(o){l();return}const g=document.createElement("div");g.style.pointerEvents="none",g.style.top="0",g.style.left="0",g.style.position="absolute",g.style.zIndex="99999",o=g;const{clientWidth:A,clientHeight:R}=r.value;l({width:A,height:R}),r.value.style.position="relative",r.value.appendChild(g)},l=(g={})=>{o&&(s&&(o.style.background=`url(${d()}) left top repeat`),g.width&&(o.style.width=`${g.width}px`),g.height&&(o.style.height=`${g.height}px`))},d=()=>{const{color:g,opacity:A,size:R,family:I,angle:T,width:D,height:G}=n,H=document.createElement("canvas");H.width=D,H.height=G;const k=H.getContext("2d");return k&&(k.fillStyle=g,k.globalAlpha=A,k.font=`${R}px ${I}`,k.rotate(Math.PI/180*T),k.fillText(s,0,G/2)),H.toDataURL()},f=()=>{!r.value||!o||(r.value.removeChild(o),o=null,C(r.value))},_=Xe(()=>{f(),a(),c(r.value)},100),c=g=>{e.mutationObserver||e.resizeObserver||(b(g),m(g))},C=g=>{var A,R;(A=e.mutationObserver)==null||A.disconnect(),e.mutationObserver=void 0,(R=e.resizeObserver)==null||R.unobserve(g),e.resizeObserver=void 0},b=g=>{const A={attributes:!0,childList:!0,subtree:!0},R=Xe(I=>{const T=Xe(D=>{switch(D.type){case"attributes":D.target===o&&_();break;case"childList":D.removedNodes.forEach(G=>{G===o&&g.appendChild(o)});break}},100);I.forEach(D=>{T(D)})},100);e.mutationObserver=new MutationObserver(R),e.mutationObserver.observe(g,A)},m=g=>{const A=Xe(()=>{const{clientWidth:R,clientHeight:I}=g;l({width:R,height:I})},500);e.resizeObserver=new ResizeObserver(A),e.resizeObserver.observe(g)};return yt(()=>{f()}),{setWatermark:t,clearWatermark:f}}const Qn={class:"app-main"},Zn={class:"app-scrollbar"},Yn=J({__name:"AppMain",setup(r){const s=Wt();return(n,o)=>{const e=E("router-view"),t=E("el-backtop");return h(),V("section",Qn,[p("div",Zn,[i(e,null,{default:v(({Component:a,route:l})=>[i(pn,{name:"el-fade-in",mode:"out-in"},{default:v(()=>[(h(),M(vn,{include:S(s).cachedViews},[(h(),M(Ge(a),{key:l.path}))],1032,["include"]))]),_:2},1024)]),_:1})]),i(t),i(t,{target:".app-scrollbar"})])}}});const St=Y(Yn,[["__scopeId","data-v-404efda6"]]),eo=J({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(r,{emit:s}){const n=r,o=()=>{s("toggleClick")};return(e,t)=>{const a=E("el-icon");return h(),V("div",{onClick:o},[i(a,{size:20,class:"icon"},{default:v(()=>[n.isActive?(h(),M(S(Cn),{key:0})):(h(),M(S(En),{key:1}))]),_:1})])}}});const to=Y(eo,[["__scopeId","data-v-133039c0"]]);function no(r){for(var s=[],n=0;n<r.length;){var o=r[n];if(o==="*"||o==="+"||o==="?"){s.push({type:"MODIFIER",index:n,value:r[n++]});continue}if(o==="\\"){s.push({type:"ESCAPED_CHAR",index:n++,value:r[n++]});continue}if(o==="{"){s.push({type:"OPEN",index:n,value:r[n++]});continue}if(o==="}"){s.push({type:"CLOSE",index:n,value:r[n++]});continue}if(o===":"){for(var e="",t=n+1;t<r.length;){var a=r.charCodeAt(t);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||a===95){e+=r[t++];continue}break}if(!e)throw new TypeError("Missing parameter name at ".concat(n));s.push({type:"NAME",index:n,value:e}),n=t;continue}if(o==="("){var l=1,d="",t=n+1;if(r[t]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(t));for(;t<r.length;){if(r[t]==="\\"){d+=r[t++]+r[t++];continue}if(r[t]===")"){if(l--,l===0){t++;break}}else if(r[t]==="("&&(l++,r[t+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(t));d+=r[t++]}if(l)throw new TypeError("Unbalanced pattern at ".concat(n));if(!d)throw new TypeError("Missing pattern at ".concat(n));s.push({type:"PATTERN",index:n,value:d}),n=t;continue}s.push({type:"CHAR",index:n,value:r[n++]})}return s.push({type:"END",index:n,value:""}),s}function oo(r,s){s===void 0&&(s={});for(var n=no(r),o=s.prefixes,e=o===void 0?"./":o,t="[^".concat(ro(s.delimiter||"/#?"),"]+?"),a=[],l=0,d=0,f="",_=function(H){if(d<n.length&&n[d].type===H)return n[d++].value},c=function(H){var k=_(H);if(k!==void 0)return k;var L=n[d],y=L.type,z=L.index;throw new TypeError("Unexpected ".concat(y," at ").concat(z,", expected ").concat(H))},C=function(){for(var H="",k;k=_("CHAR")||_("ESCAPED_CHAR");)H+=k;return H};d<n.length;){var b=_("CHAR"),m=_("NAME"),g=_("PATTERN");if(m||g){var A=b||"";e.indexOf(A)===-1&&(f+=A,A=""),f&&(a.push(f),f=""),a.push({name:m||l++,prefix:A,suffix:"",pattern:g||t,modifier:_("MODIFIER")||""});continue}var R=b||_("ESCAPED_CHAR");if(R){f+=R;continue}f&&(a.push(f),f="");var I=_("OPEN");if(I){var A=C(),T=_("NAME")||"",D=_("PATTERN")||"",G=C();c("CLOSE"),a.push({name:T||(D?l++:""),pattern:T&&!D?t:D,prefix:A,suffix:G,modifier:_("MODIFIER")||""});continue}c("END")}return a}function ao(r,s){return so(oo(r,s),s)}function so(r,s){s===void 0&&(s={});var n=lo(s),o=s.encode,e=o===void 0?function(d){return d}:o,t=s.validate,a=t===void 0?!0:t,l=r.map(function(d){if(typeof d=="object")return new RegExp("^(?:".concat(d.pattern,")$"),n)});return function(d){for(var f="",_=0;_<r.length;_++){var c=r[_];if(typeof c=="string"){f+=c;continue}var C=d?d[c.name]:void 0,b=c.modifier==="?"||c.modifier==="*",m=c.modifier==="*"||c.modifier==="+";if(Array.isArray(C)){if(!m)throw new TypeError('Expected "'.concat(c.name,'" to not repeat, but got an array'));if(C.length===0){if(b)continue;throw new TypeError('Expected "'.concat(c.name,'" to not be empty'))}for(var g=0;g<C.length;g++){var A=e(C[g],c);if(a&&!l[_].test(A))throw new TypeError('Expected all "'.concat(c.name,'" to match "').concat(c.pattern,'", but got "').concat(A,'"'));f+=c.prefix+A+c.suffix}continue}if(typeof C=="string"||typeof C=="number"){var A=e(String(C),c);if(a&&!l[_].test(A))throw new TypeError('Expected "'.concat(c.name,'" to match "').concat(c.pattern,'", but got "').concat(A,'"'));f+=c.prefix+A+c.suffix;continue}if(!b){var R=m?"an array":"a string";throw new TypeError('Expected "'.concat(c.name,'" to be ').concat(R))}}return f}}function ro(r){return r.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function lo(r){return r&&r.sensitive?"":"i"}const io={key:0,class:"no-redirect"},co=["onClick"],uo=J({__name:"index",setup(r){const s=st(),n=Be(),{listenerRouteChange:o}=ct(),e=j([]),t=()=>{e.value=s.matched.filter(d=>{var f,_;return((f=d.meta)==null?void 0:f.title)&&((_=d.meta)==null?void 0:_.breadcrumb)!==!1})},a=d=>ao(d)(s.params),l=d=>{const{redirect:f,path:_}=d;if(f){n.push(f);return}n.push(a(_))};return o(d=>{d.path.startsWith("/redirect/")||t()},!0),(d,f)=>{const _=E("el-breadcrumb-item"),c=E("el-breadcrumb");return h(),M(c,{class:"app-breadcrumb"},{default:v(()=>[(h(!0),V(pe,null,Me(e.value,(C,b)=>(h(),M(_,{key:C.path},{default:v(()=>[C.redirect==="noRedirect"||b===e.value.length-1?(h(),V("span",io,ve(C.meta.title),1)):(h(),V("a",{key:1,onClick:et(m=>l(C),["prevent"])},ve(C.meta.title),9,co))]),_:2},1024))),128))]),_:1})}}});const fo=Y(uo,[["__scopeId","data-v-63d11c68"]]),at=r=>/^(https?:|mailto:|tel:)/.test(r),_o=["href"],po=J({__name:"SidebarItemLink",props:{to:{}},setup(r){const s=r;return(n,o)=>{const e=E("router-link");return S(at)(s.to)?(h(),V("a",{key:0,href:s.to,target:"_blank",rel:"noopener"},[nt(n.$slots,"default")],8,_o)):(h(),M(e,{key:1,to:s.to},{default:v(()=>[nt(n.$slots,"default")]),_:3},8,["to"]))}}});function Ce(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function Mt(r,s){for(var n="",o=0,e=-1,t=0,a,l=0;l<=r.length;++l){if(l<r.length)a=r.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(e===l-1||t===1))if(e!==l-1&&t===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var d=n.lastIndexOf("/");if(d!==n.length-1){d===-1?(n="",o=0):(n=n.slice(0,d),o=n.length-1-n.lastIndexOf("/")),e=l,t=0;continue}}else if(n.length===2||n.length===1){n="",o=0,e=l,t=0;continue}}s&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+r.slice(e+1,l):n=r.slice(e+1,l),o=l-e-1;e=l,t=0}else a===46&&t!==-1?++t:t=-1}return n}function vo(r,s){var n=s.dir||s.root,o=s.base||(s.name||"")+(s.ext||"");return n?n===s.root?n+o:n+r+o:o}var Ue={resolve:function(){for(var s="",n=!1,o,e=arguments.length-1;e>=-1&&!n;e--){var t;e>=0?t=arguments[e]:(o===void 0&&(o=process.cwd()),t=o),Ce(t),t.length!==0&&(s=t+"/"+s,n=t.charCodeAt(0)===47)}return s=Mt(s,!n),n?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(Ce(s),s.length===0)return".";var n=s.charCodeAt(0)===47,o=s.charCodeAt(s.length-1)===47;return s=Mt(s,!n),s.length===0&&!n&&(s="."),s.length>0&&o&&(s+="/"),n?"/"+s:s},isAbsolute:function(s){return Ce(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,n=0;n<arguments.length;++n){var o=arguments[n];Ce(o),o.length>0&&(s===void 0?s=o:s+="/"+o)}return s===void 0?".":Ue.normalize(s)},relative:function(s,n){if(Ce(s),Ce(n),s===n||(s=Ue.resolve(s),n=Ue.resolve(n),s===n))return"";for(var o=1;o<s.length&&s.charCodeAt(o)===47;++o);for(var e=s.length,t=e-o,a=1;a<n.length&&n.charCodeAt(a)===47;++a);for(var l=n.length,d=l-a,f=t<d?t:d,_=-1,c=0;c<=f;++c){if(c===f){if(d>f){if(n.charCodeAt(a+c)===47)return n.slice(a+c+1);if(c===0)return n.slice(a+c)}else t>f&&(s.charCodeAt(o+c)===47?_=c:c===0&&(_=0));break}var C=s.charCodeAt(o+c),b=n.charCodeAt(a+c);if(C!==b)break;C===47&&(_=c)}var m="";for(c=o+_+1;c<=e;++c)(c===e||s.charCodeAt(c)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+n.slice(a+_):(a+=_,n.charCodeAt(a)===47&&++a,n.slice(a))},_makeLong:function(s){return s},dirname:function(s){if(Ce(s),s.length===0)return".";for(var n=s.charCodeAt(0),o=n===47,e=-1,t=!0,a=s.length-1;a>=1;--a)if(n=s.charCodeAt(a),n===47){if(!t){e=a;break}}else t=!1;return e===-1?o?"/":".":o&&e===1?"//":s.slice(0,e)},basename:function(s,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Ce(s);var o=0,e=-1,t=!0,a;if(n!==void 0&&n.length>0&&n.length<=s.length){if(n.length===s.length&&n===s)return"";var l=n.length-1,d=-1;for(a=s.length-1;a>=0;--a){var f=s.charCodeAt(a);if(f===47){if(!t){o=a+1;break}}else d===-1&&(t=!1,d=a+1),l>=0&&(f===n.charCodeAt(l)?--l===-1&&(e=a):(l=-1,e=d))}return o===e?e=d:e===-1&&(e=s.length),s.slice(o,e)}else{for(a=s.length-1;a>=0;--a)if(s.charCodeAt(a)===47){if(!t){o=a+1;break}}else e===-1&&(t=!1,e=a+1);return e===-1?"":s.slice(o,e)}},extname:function(s){Ce(s);for(var n=-1,o=0,e=-1,t=!0,a=0,l=s.length-1;l>=0;--l){var d=s.charCodeAt(l);if(d===47){if(!t){o=l+1;break}continue}e===-1&&(t=!1,e=l+1),d===46?n===-1?n=l:a!==1&&(a=1):n!==-1&&(a=-1)}return n===-1||e===-1||a===0||a===1&&n===e-1&&n===o+1?"":s.slice(n,e)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return vo("/",s)},parse:function(s){Ce(s);var n={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return n;var o=s.charCodeAt(0),e=o===47,t;e?(n.root="/",t=1):t=0;for(var a=-1,l=0,d=-1,f=!0,_=s.length-1,c=0;_>=t;--_){if(o=s.charCodeAt(_),o===47){if(!f){l=_+1;break}continue}d===-1&&(f=!1,d=_+1),o===46?a===-1?a=_:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||d===-1||c===0||c===1&&a===d-1&&a===l+1?d!==-1&&(l===0&&e?n.base=n.name=s.slice(1,d):n.base=n.name=s.slice(l,d)):(l===0&&e?(n.name=s.slice(1,a),n.base=s.slice(1,d)):(n.name=s.slice(l,a),n.base=s.slice(l,d)),n.ext=s.slice(a,d)),l>0?n.dir=s.slice(0,l-1):e&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};Ue.posix=Ue;var ho=Ue;const Yt=Tn(ho),mo={key:2},go=J({__name:"SidebarItem",props:{item:{},isCollapse:{type:Boolean,default:!1},isTop:{type:Boolean,default:!1},isFirstLevel:{type:Boolean,default:!0},basePath:{default:""}},setup(r){const s=r,n=W(()=>{var l;return(l=s.item.meta)==null?void 0:l.alwaysShow}),o=W(()=>{var l;return((l=s.item.children)==null?void 0:l.filter(d=>{var f;return!((f=d.meta)!=null&&f.hidden)}))??[]}),e=W(()=>o.value.length),t=W(()=>{const l=e.value;switch(!0){case l>1:return null;case l===1:return o.value[0];default:return{...s.item,path:""}}}),a=l=>{switch(!0){case at(l):return l;case at(s.basePath):return s.basePath;default:return Yt.resolve(s.basePath,l)}};return(l,d)=>{var b;const f=E("SvgIcon"),_=E("el-menu-item"),c=E("sidebar-item",!0),C=E("el-sub-menu");return(b=s.item.meta)!=null&&b.hidden?q("",!0):(h(),V("div",{key:0,class:_e({"simple-mode":s.isCollapse&&!l.isTop,"first-level":s.isFirstLevel})},[!n.value&&t.value&&!t.value.children?(h(),V(pe,{key:0},[t.value.meta?(h(),M(po,{key:0,to:a(t.value.path)},{default:v(()=>[i(_,{index:a(t.value.path)},hn({default:v(()=>[t.value.meta.svgIcon?(h(),M(f,{key:0,name:t.value.meta.svgIcon},null,8,["name"])):t.value.meta.elIcon?(h(),M(Ge(t.value.meta.elIcon),{key:1,class:"el-icon"})):q("",!0)]),_:2},[t.value.meta.title?{name:"title",fn:v(()=>[ie(ve(t.value.meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):q("",!0)],64)):(h(),M(C,{key:1,index:a(s.item.path),teleported:""},{title:v(()=>{var m,g,A;return[(m=s.item.meta)!=null&&m.svgIcon?(h(),M(f,{key:0,name:s.item.meta.svgIcon},null,8,["name"])):(g=s.item.meta)!=null&&g.elIcon?(h(),M(Ge(s.item.meta.elIcon),{key:1,class:"el-icon"})):q("",!0),(A=s.item.meta)!=null&&A.title?(h(),V("span",mo,ve(s.item.meta.title),1)):q("",!0)]}),default:v(()=>[s.item.children?(h(!0),V(pe,{key:0},Me(s.item.children,m=>(h(),M(c,{key:m.path,item:m,"is-collapse":s.isCollapse,"is-first-level":!1,"base-path":a(m.path)},null,8,["item","is-collapse","base-path"]))),128)):q("",!0)]),_:1},8,["index"]))],2))}}});const bo=Y(go,[["__scopeId","data-v-aae703b2"]]),yo="/static/logo-c5be2df6.png",wo={class:"layout-logo-container"},xo=["src"],So=J({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(r){const s=Ee();return Se(s),(n,o)=>(h(),V("div",wo,[p("img",{src:S(yo),class:"layout-logo"},null,8,xo)]))}});const Ct=Y(So,[["__scopeId","data-v-2d8fe1ac"]]),tt=r=>{let s="";try{s=getComputedStyle(document.documentElement).getPropertyValue(r)}catch(n){console.error(n)}return s},Vt=(r,s)=>{try{document.documentElement.style.setProperty(r,s)}catch(n){console.error(n)}},Co=()=>{xn(),location.reload()},Eo=J({__name:"index",setup(r){zt(L=>({d3cbd5ae:k.value,"27a97643":G.value,"53ce3b2b":H.value,"28df2b3e":D.value}));const s=tt("--v3-sidebar-menu-bg-color"),n=tt("--v3-sidebar-menu-text-color"),o=tt("--v3-sidebar-menu-active-text-color"),e=st(),t=Ve(),a=wt(),l=Ee(),{sidebar:d,device:f}=Se(t),{layoutMode:_,showLogo:c}=Se(l),C=W(()=>{const{meta:{activeMenu:L},path:y}=e;return L||y}),b=W(()=>!d.value.opened),m=W(()=>_.value==="left"),g=W(()=>_.value==="top"),A=W(()=>f.value===ye.Mobile),R=W(()=>m.value&&c.value),I=W(()=>m.value?s:void 0),T=W(()=>m.value?n:void 0),D=W(()=>m.value?o:void 0),G=W(()=>_.value!=="top"?"var(--v3-sidebar-menu-item-height)":"var(--v3-navigationbar-height)"),H=W(()=>_.value!=="top"?"var(--v3-sidebar-menu-hover-bg-color)":"transparent"),k=W(()=>_.value!=="top"?"2px":"0px");return(L,y)=>{const z=E("el-menu"),Z=E("el-scrollbar");return h(),V("div",{class:_e({"has-logo":R.value})},[R.value?(h(),M(Ct,{key:0,collapse:b.value},null,8,["collapse"])):q("",!0),i(Z,{"wrap-class":"scrollbar-wrapper"},{default:v(()=>[i(z,{"default-active":C.value,collapse:b.value&&!g.value,"background-color":I.value,"text-color":T.value,"active-text-color":D.value,"unique-opened":!0,"collapse-transition":!1,mode:g.value&&!A.value?"horizontal":"vertical"},{default:v(()=>[(h(!0),V(pe,null,Me(S(a).routes,O=>(h(),M(bo,{key:O.path,item:O,"base-path":O.path,"is-collapse":b.value,"is-top":g.value},null,8,["item","base-path","is-collapse","is-top"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}});const Et=Y(Eo,[["__scopeId","data-v-328a1a26"]]),To={class:"card-header"},Ao={class:"header-content"},$o={class:"title-wrapper"},ko={class:"card-meta"},Lo={class:"card-time"},Ro={class:"card-body"},Io=J({__name:"NotifyList",props:{list:{}},setup(r){const s=r,n=Be(),o=a=>{switch(a){case"warning":return $n;case"success":return An;case"info":return Xt;default:return qt}},e=a=>{switch(a){case"warning":return"notice-warning";case"success":return"notice-success";case"info":return"notice-info";default:return"notice-default"}};function t(a,l){n.push(`/vuln/detail/${a}`),Nn(typeof l=="number"?l:Number(l)).then(()=>{Fe.success("已标记为已读")}).catch(()=>{Fe.error("标记失败")})}return(a,l)=>{const d=E("el-empty"),f=E("el-icon"),_=E("el-button"),c=E("el-tag"),C=E("el-text"),b=E("el-card");return s.list.length===0?(h(),M(d,{key:0,description:"暂无通知","image-size":80})):(h(!0),V(pe,{key:1},Me(s.list,(m,g)=>(h(),M(b,{key:m.id||g,shadow:"never",class:_e(["card-container",{"unread-notice":m.isRead===0}]),hoverable:""},{header:v(()=>[p("div",To,[p("div",Ao,[p("div",$o,[i(f,{class:_e(["notice-icon",e(m.type)])},{default:v(()=>[(h(),M(Ge(o(m.type))))]),_:2},1032,["class"]),i(_,{class:"card-title",link:"",type:"primary",onClick:A=>{var R;return t(((R=m.report)==null?void 0:R.id)||0,Number(m.id))}},{default:v(()=>[ie(ve(m.title),1)]),_:2},1032,["onClick"])]),p("div",ko,[m.isRead===0?(h(),M(c,{key:0,type:"danger",size:"small",class:"unread-badge"},{default:v(()=>[ie(" 未读 ")]),_:1})):q("",!0),p("div",Lo,ve(m.datetime),1)])])])]),default:v(()=>[p("div",Ro,[i(C,{innerHTML:m.description??"No Data",class:"notice-description"},null,8,["innerHTML"])])]),_:2},1032,["class"]))),128))}}});const Fo=Y(Io,[["__scopeId","data-v-c46f412c"]]);var gt={exports:{}};(function(r,s){(function(n){var o=n.setTimeout,e=n.clearTimeout,t=n.XMLHttpRequest,a=n.XDomainRequest,l=n.ActiveXObject,d=n.EventSource,f=n.document,_=n.Promise,c=n.fetch,C=n.Response,b=n.TextDecoder,m=n.TextEncoder,g=n.AbortController;if(typeof window<"u"&&typeof f<"u"&&!("readyState"in f)&&f.body==null&&(f.readyState="loading",window.addEventListener("load",function(u){f.readyState="complete"},!1)),t==null&&l!=null&&(t=function(){return new l("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(u){function x(){}return x.prototype=u,new x}),Date.now||(Date.now=function(){return new Date().getTime()}),g==null){var A=c;c=function(u,x){var $=x.signal;return A(u,{headers:x.headers,credentials:x.credentials,cache:x.cache}).then(function(w){var N=w.body.getReader();return $._reader=N,$._aborted&&$._reader.cancel(),{status:w.status,statusText:w.statusText,headers:w.headers,body:{getReader:function(){return N}}}})},g=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function R(){this.bitsNeeded=0,this.codePoint=0}R.prototype.decode=function(u){function x(X,K,P){if(P===1)return X>=128>>K&&X<<K<=2047;if(P===2)return X>=2048>>K&&X<<K<=55295||X>=57344>>K&&X<<K<=65535;if(P===3)return X>=65536>>K&&X<<K<=1114111;throw new Error}function $(X,K){if(X===6*1)return K>>6>15?3:K>31?2:1;if(X===6*2)return K>15?3:2;if(X===6*3)return 3;throw new Error}for(var w=65533,N="",F=this.bitsNeeded,U=this.codePoint,te=0;te<u.length;te+=1){var B=u[te];F!==0&&(B<128||B>191||!x(U<<6|B&63,F-6,$(F,U)))&&(F=0,U=w,N+=String.fromCharCode(U)),F===0?(B>=0&&B<=127?(F=0,U=B):B>=192&&B<=223?(F=6*1,U=B&31):B>=224&&B<=239?(F=6*2,U=B&15):B>=240&&B<=247?(F=6*3,U=B&7):(F=0,U=w),F!==0&&!x(U,F,$(F,U))&&(F=0,U=w)):(F-=6,U=U<<6|B&63),F===0&&(U<=65535?N+=String.fromCharCode(U):(N+=String.fromCharCode(55296+(U-65535-1>>10)),N+=String.fromCharCode(56320+(U-65535-1&1023))))}return this.bitsNeeded=F,this.codePoint=U,N};var I=function(){try{return new b().decode(new m().encode("test"),{stream:!0})==="test"}catch(u){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+u)}return!1};(b==null||m==null||!I())&&(b=R);var T=function(){};function D(u){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=T,this.onload=T,this.onerror=T,this.onreadystatechange=T,this._contentType="",this._xhr=u,this._sendTimeout=0,this._abort=T}D.prototype.open=function(u,x){this._abort(!0);var $=this,w=this._xhr,N=1,F=0;this._abort=function(P){$._sendTimeout!==0&&(e($._sendTimeout),$._sendTimeout=0),(N===1||N===2||N===3)&&(N=4,w.onload=T,w.onerror=T,w.onabort=T,w.onprogress=T,w.onreadystatechange=T,w.abort(),F!==0&&(e(F),F=0),P||($.readyState=4,$.onabort(null),$.onreadystatechange())),N=0};var U=function(){if(N===1){var P=0,ne="",Te=void 0;if("contentType"in w)P=200,ne="OK",Te=w.contentType;else try{P=w.status,ne=w.statusText,Te=w.getResponseHeader("Content-Type")}catch{P=0,ne="",Te=void 0}P!==0&&(N=2,$.readyState=2,$.status=P,$.statusText=ne,$._contentType=Te,$.onreadystatechange())}},te=function(){if(U(),N===2||N===3){N=3;var P="";try{P=w.responseText}catch{}$.readyState=3,$.responseText=P,$.onprogress()}},B=function(P,ne){if((ne==null||ne.preventDefault==null)&&(ne={preventDefault:T}),te(),N===1||N===2||N===3){if(N=4,F!==0&&(e(F),F=0),$.readyState=4,P==="load")$.onload(ne);else if(P==="error")$.onerror(ne);else if(P==="abort")$.onabort(ne);else throw new TypeError;$.onreadystatechange()}},X=function(P){w!=null&&(w.readyState===4?(!("onload"in w)||!("onerror"in w)||!("onabort"in w))&&B(w.responseText===""?"error":"load",P):w.readyState===3?"onprogress"in w||te():w.readyState===2&&U())},K=function(){F=o(function(){K()},500),w.readyState===3&&te()};"onload"in w&&(w.onload=function(P){B("load",P)}),"onerror"in w&&(w.onerror=function(P){B("error",P)}),"onabort"in w&&(w.onabort=function(P){B("abort",P)}),"onprogress"in w&&(w.onprogress=te),"onreadystatechange"in w&&(w.onreadystatechange=function(P){X(P)}),("contentType"in w||!("ontimeout"in t.prototype))&&(x+=(x.indexOf("?")===-1?"?":"&")+"padding=true"),w.open(u,x,!0),"readyState"in w&&(F=o(function(){K()},0))},D.prototype.abort=function(){this._abort(!1)},D.prototype.getResponseHeader=function(u){return this._contentType},D.prototype.setRequestHeader=function(u,x){var $=this._xhr;"setRequestHeader"in $&&$.setRequestHeader(u,x)},D.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},D.prototype.send=function(){if((!("ontimeout"in t.prototype)||!("sendAsBinary"in t.prototype)&&!("mozAnon"in t.prototype))&&f!=null&&f.readyState!=null&&f.readyState!=="complete"){var u=this;u._sendTimeout=o(function(){u._sendTimeout=0,u.send()},4);return}var x=this._xhr;"withCredentials"in x&&(x.withCredentials=this.withCredentials);try{x.send(void 0)}catch($){throw $}};function G(u){return u.replace(/[A-Z]/g,function(x){return String.fromCharCode(x.charCodeAt(0)+32)})}function H(u){for(var x=Object.create(null),$=u.split(`\r
`),w=0;w<$.length;w+=1){var N=$[w],F=N.split(": "),U=F.shift(),te=F.join(": ");x[G(U)]=te}this._map=x}H.prototype.get=function(u){return this._map[G(u)]},t!=null&&t.HEADERS_RECEIVED==null&&(t.HEADERS_RECEIVED=2);function k(){}k.prototype.open=function(u,x,$,w,N,F,U){u.open("GET",N);var te=0;u.onprogress=function(){var X=u.responseText,K=X.slice(te);te+=K.length,$(K)},u.onerror=function(X){X.preventDefault(),w(new Error("NetworkError"))},u.onload=function(){w(null)},u.onabort=function(){w(null)},u.onreadystatechange=function(){if(u.readyState===t.HEADERS_RECEIVED){var X=u.status,K=u.statusText,P=u.getResponseHeader("Content-Type"),ne=u.getAllResponseHeaders();x(X,K,P,new H(ne))}},u.withCredentials=F;for(var B in U)Object.prototype.hasOwnProperty.call(U,B)&&u.setRequestHeader(B,U[B]);return u.send(),u};function L(u){this._headers=u}L.prototype.get=function(u){return this._headers.get(u)};function y(){}y.prototype.open=function(u,x,$,w,N,F,U){var te=null,B=new g,X=B.signal,K=new b;return c(N,{headers:U,credentials:F?"include":"same-origin",signal:X,cache:"no-store"}).then(function(P){return te=P.body.getReader(),x(P.status,P.statusText,P.headers.get("Content-Type"),new L(P.headers)),new _(function(ne,Te){var je=function(){te.read().then(function(he){if(he.done)ne(void 0);else{var ue=K.decode(he.value,{stream:!0});$(ue),je()}}).catch(function(he){Te(he)})};je()})}).catch(function(P){if(P.name!=="AbortError")return P}).then(function(P){w(P)}),{abort:function(){te!=null&&te.cancel(),B.abort()}}};function z(){this._listeners=Object.create(null)}function Z(u){o(function(){throw u},0)}z.prototype.dispatchEvent=function(u){u.target=this;var x=this._listeners[u.type];if(x!=null)for(var $=x.length,w=0;w<$;w+=1){var N=x[w];try{typeof N.handleEvent=="function"?N.handleEvent(u):N.call(this,u)}catch(F){Z(F)}}},z.prototype.addEventListener=function(u,x){u=String(u);var $=this._listeners,w=$[u];w==null&&(w=[],$[u]=w);for(var N=!1,F=0;F<w.length;F+=1)w[F]===x&&(N=!0);N||w.push(x)},z.prototype.removeEventListener=function(u,x){u=String(u);var $=this._listeners,w=$[u];if(w!=null){for(var N=[],F=0;F<w.length;F+=1)w[F]!==x&&N.push(w[F]);N.length===0?delete $[u]:$[u]=N}};function O(u){this.type=u,this.target=void 0}function Q(u,x){O.call(this,u),this.data=x.data,this.lastEventId=x.lastEventId}Q.prototype=Object.create(O.prototype);function ce(u,x){O.call(this,u),this.status=x.status,this.statusText=x.statusText,this.headers=x.headers}ce.prototype=Object.create(O.prototype);function ee(u,x){O.call(this,u),this.error=x.error}ee.prototype=Object.create(O.prototype);var ut=-1,Re=0,Oe=1,We=2,dt=-1,Ie=0,ft=1,kt=2,nn=3,on=/^text\/event\-stream(;.*)?$/i,an=1e3,sn=18e6,_t=function(u,x){var $=u==null?x:parseInt(u,10);return $!==$&&($=x),pt($)},pt=function(u){return Math.min(Math.max(u,an),sn)},Ne=function(u,x,$){try{typeof x=="function"&&x.call(u,$)}catch(w){Z(w)}};function we(u,x){z.call(this),x=x||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,cn(this,u,x)}function rn(){return t!=null&&"withCredentials"in t.prototype||a==null?new t:new a}var ln=c!=null&&C!=null&&"body"in C.prototype;function cn(u,x,$){x=String(x);var w=!!$.withCredentials,N=$.lastEventIdQueryParameterName||"lastEventId",F=pt(1e3),U=_t($.heartbeatTimeout,45e3),te="",B=F,X=!1,K=0,P=$.headers||{},ne=$.Transport,Te=ln&&ne==null?void 0:new D(ne!=null?new ne:rn()),je=ne!=null&&typeof ne!="string"?new ne:Te==null?new y:new k,he=void 0,ue=0,xe=ut,Pe="",Je="",Ae="",Qe="",de=Ie,vt=0,De=0,un=function(se,ae,me,ge){if(xe===Re)if(se===200&&me!=null&&on.test(me)){xe=Oe,X=Date.now(),B=F,u.readyState=Oe;var fe=new ce("open",{status:se,statusText:ae,headers:ge});u.dispatchEvent(fe),Ne(u,u.onopen,fe)}else{var le="";se!==200?(ae&&(ae=ae.replace(/\s+/g," ")),le="EventSource's response has a status "+se+" "+ae+" that is not 200. Aborting the connection."):le="EventSource's response has a Content-Type specifying an unsupported type: "+(me==null?"-":me.replace(/\s+/g," "))+". Aborting the connection.",ht();var fe=new ce("error",{status:se,statusText:ae,headers:ge});u.dispatchEvent(fe),Ne(u,u.onerror,fe),console.error(le)}},dn=function(se){if(xe===Oe){for(var ae=-1,me=0;me<se.length;me+=1){var ge=se.charCodeAt(me);(ge===`
`.charCodeAt(0)||ge==="\r".charCodeAt(0))&&(ae=me)}var fe=(ae!==-1?Qe:"")+se.slice(0,ae+1);Qe=(ae===-1?Qe:"")+se.slice(ae+1),se!==""&&(X=Date.now(),K+=se.length);for(var le=0;le<fe.length;le+=1){var ge=fe.charCodeAt(le);if(de===dt&&ge===`
`.charCodeAt(0))de=Ie;else if(de===dt&&(de=Ie),ge==="\r".charCodeAt(0)||ge===`
`.charCodeAt(0)){if(de!==Ie){de===ft&&(De=le+1);var $e=fe.slice(vt,De-1),ke=fe.slice(De+(De<le&&fe.charCodeAt(De)===" ".charCodeAt(0)?1:0),le);$e==="data"?(Pe+=`
`,Pe+=ke):$e==="id"?Je=ke:$e==="event"?Ae=ke:$e==="retry"?(F=_t(ke,F),B=F):$e==="heartbeatTimeout"&&(U=_t(ke,U),ue!==0&&(e(ue),ue=o(function(){qe()},U)))}if(de===Ie){if(Pe!==""){te=Je,Ae===""&&(Ae="message");var He=new Q(Ae,{data:Pe.slice(1),lastEventId:Je});if(u.dispatchEvent(He),Ae==="open"?Ne(u,u.onopen,He):Ae==="message"?Ne(u,u.onmessage,He):Ae==="error"&&Ne(u,u.onerror,He),xe===We)return}Pe="",Ae=""}de=ge==="\r".charCodeAt(0)?dt:Ie}else de===Ie&&(vt=le,de=ft),de===ft?ge===":".charCodeAt(0)&&(De=le+1,de=kt):de===kt&&(de=nn)}}},Rt=function(se){if(xe===Oe||xe===Re){xe=ut,ue!==0&&(e(ue),ue=0),ue=o(function(){qe()},B),B=pt(Math.min(F*16,B*2)),u.readyState=Re;var ae=new ee("error",{error:se});u.dispatchEvent(ae),Ne(u,u.onerror,ae),se!=null&&console.error(se)}},ht=function(){xe=We,he!=null&&(he.abort(),he=void 0),ue!==0&&(e(ue),ue=0),u.readyState=We},qe=function(){if(ue=0,xe!==ut){if(!X&&he!=null)Rt(new Error("No activity within "+U+" milliseconds. "+(xe===Re?"No response received.":K+" chars received.")+" Reconnecting.")),he!=null&&(he.abort(),he=void 0);else{var se=Math.max((X||Date.now())+U-Date.now(),1);X=!1,ue=o(function(){qe()},se)}return}X=!1,K=0,ue=o(function(){qe()},U),xe=Re,Pe="",Ae="",Je=te,Qe="",vt=0,De=0,de=Ie;var ae=x;if(x.slice(0,5)!=="data:"&&x.slice(0,5)!=="blob:"&&te!==""){var me=x.indexOf("?");ae=me===-1?x:x.slice(0,me+1)+x.slice(me+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(ke,He){return He===N?"":ke}),ae+=(x.indexOf("?")===-1?"?":"&")+N+"="+encodeURIComponent(te)}var ge=u.withCredentials,fe={};fe.Accept="text/event-stream";var le=u.headers;if(le!=null)for(var $e in le)Object.prototype.hasOwnProperty.call(le,$e)&&(fe[$e]=le[$e]);try{he=je.open(Te,un,dn,Rt,ae,ge,fe)}catch(ke){throw ht(),ke}};u.url=x,u.readyState=Re,u.withCredentials=w,u.headers=P,u._close=ht,qe()}we.prototype=Object.create(z.prototype),we.prototype.CONNECTING=Re,we.prototype.OPEN=Oe,we.prototype.CLOSED=We,we.prototype.close=function(){this._close()},we.CONNECTING=Re,we.OPEN=Oe,we.CLOSED=We,we.prototype.withCredentials=void 0;var Lt=d;t!=null&&(d==null||!("withCredentials"in d.prototype))&&(Lt=we),function(u){{var x=u(s);x!==void 0&&(r.exports=x)}}(function(u){u.EventSourcePolyfill=we,u.NativeEventSource=d,u.EventSource=Lt})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:kn:globalThis)})(gt,gt.exports);var Mo=gt.exports;class oe{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(s,n=!1){return this.onePassHasher.start().appendStr(s).end(n)}static hashAsciiStr(s,n=!1){return this.onePassHasher.start().appendAsciiStr(s).end(n)}static _hex(s){const n=oe.hexChars,o=oe.hexOut;let e,t,a,l;for(l=0;l<4;l+=1)for(t=l*8,e=s[l],a=0;a<8;a+=2)o[t+1+a]=n.charAt(e&15),e>>>=4,o[t+0+a]=n.charAt(e&15),e>>>=4;return o.join("")}static _md5cycle(s,n){let o=s[0],e=s[1],t=s[2],a=s[3];o+=(e&t|~e&a)+n[0]-680876936|0,o=(o<<7|o>>>25)+e|0,a+=(o&e|~o&t)+n[1]-389564586|0,a=(a<<12|a>>>20)+o|0,t+=(a&o|~a&e)+n[2]+606105819|0,t=(t<<17|t>>>15)+a|0,e+=(t&a|~t&o)+n[3]-1044525330|0,e=(e<<22|e>>>10)+t|0,o+=(e&t|~e&a)+n[4]-176418897|0,o=(o<<7|o>>>25)+e|0,a+=(o&e|~o&t)+n[5]+1200080426|0,a=(a<<12|a>>>20)+o|0,t+=(a&o|~a&e)+n[6]-1473231341|0,t=(t<<17|t>>>15)+a|0,e+=(t&a|~t&o)+n[7]-45705983|0,e=(e<<22|e>>>10)+t|0,o+=(e&t|~e&a)+n[8]+1770035416|0,o=(o<<7|o>>>25)+e|0,a+=(o&e|~o&t)+n[9]-1958414417|0,a=(a<<12|a>>>20)+o|0,t+=(a&o|~a&e)+n[10]-42063|0,t=(t<<17|t>>>15)+a|0,e+=(t&a|~t&o)+n[11]-1990404162|0,e=(e<<22|e>>>10)+t|0,o+=(e&t|~e&a)+n[12]+1804603682|0,o=(o<<7|o>>>25)+e|0,a+=(o&e|~o&t)+n[13]-40341101|0,a=(a<<12|a>>>20)+o|0,t+=(a&o|~a&e)+n[14]-1502002290|0,t=(t<<17|t>>>15)+a|0,e+=(t&a|~t&o)+n[15]+1236535329|0,e=(e<<22|e>>>10)+t|0,o+=(e&a|t&~a)+n[1]-165796510|0,o=(o<<5|o>>>27)+e|0,a+=(o&t|e&~t)+n[6]-1069501632|0,a=(a<<9|a>>>23)+o|0,t+=(a&e|o&~e)+n[11]+643717713|0,t=(t<<14|t>>>18)+a|0,e+=(t&o|a&~o)+n[0]-373897302|0,e=(e<<20|e>>>12)+t|0,o+=(e&a|t&~a)+n[5]-701558691|0,o=(o<<5|o>>>27)+e|0,a+=(o&t|e&~t)+n[10]+38016083|0,a=(a<<9|a>>>23)+o|0,t+=(a&e|o&~e)+n[15]-660478335|0,t=(t<<14|t>>>18)+a|0,e+=(t&o|a&~o)+n[4]-405537848|0,e=(e<<20|e>>>12)+t|0,o+=(e&a|t&~a)+n[9]+568446438|0,o=(o<<5|o>>>27)+e|0,a+=(o&t|e&~t)+n[14]-1019803690|0,a=(a<<9|a>>>23)+o|0,t+=(a&e|o&~e)+n[3]-187363961|0,t=(t<<14|t>>>18)+a|0,e+=(t&o|a&~o)+n[8]+1163531501|0,e=(e<<20|e>>>12)+t|0,o+=(e&a|t&~a)+n[13]-1444681467|0,o=(o<<5|o>>>27)+e|0,a+=(o&t|e&~t)+n[2]-51403784|0,a=(a<<9|a>>>23)+o|0,t+=(a&e|o&~e)+n[7]+1735328473|0,t=(t<<14|t>>>18)+a|0,e+=(t&o|a&~o)+n[12]-1926607734|0,e=(e<<20|e>>>12)+t|0,o+=(e^t^a)+n[5]-378558|0,o=(o<<4|o>>>28)+e|0,a+=(o^e^t)+n[8]-2022574463|0,a=(a<<11|a>>>21)+o|0,t+=(a^o^e)+n[11]+1839030562|0,t=(t<<16|t>>>16)+a|0,e+=(t^a^o)+n[14]-35309556|0,e=(e<<23|e>>>9)+t|0,o+=(e^t^a)+n[1]-1530992060|0,o=(o<<4|o>>>28)+e|0,a+=(o^e^t)+n[4]+1272893353|0,a=(a<<11|a>>>21)+o|0,t+=(a^o^e)+n[7]-155497632|0,t=(t<<16|t>>>16)+a|0,e+=(t^a^o)+n[10]-1094730640|0,e=(e<<23|e>>>9)+t|0,o+=(e^t^a)+n[13]+681279174|0,o=(o<<4|o>>>28)+e|0,a+=(o^e^t)+n[0]-358537222|0,a=(a<<11|a>>>21)+o|0,t+=(a^o^e)+n[3]-722521979|0,t=(t<<16|t>>>16)+a|0,e+=(t^a^o)+n[6]+76029189|0,e=(e<<23|e>>>9)+t|0,o+=(e^t^a)+n[9]-640364487|0,o=(o<<4|o>>>28)+e|0,a+=(o^e^t)+n[12]-421815835|0,a=(a<<11|a>>>21)+o|0,t+=(a^o^e)+n[15]+530742520|0,t=(t<<16|t>>>16)+a|0,e+=(t^a^o)+n[2]-995338651|0,e=(e<<23|e>>>9)+t|0,o+=(t^(e|~a))+n[0]-198630844|0,o=(o<<6|o>>>26)+e|0,a+=(e^(o|~t))+n[7]+1126891415|0,a=(a<<10|a>>>22)+o|0,t+=(o^(a|~e))+n[14]-1416354905|0,t=(t<<15|t>>>17)+a|0,e+=(a^(t|~o))+n[5]-57434055|0,e=(e<<21|e>>>11)+t|0,o+=(t^(e|~a))+n[12]+1700485571|0,o=(o<<6|o>>>26)+e|0,a+=(e^(o|~t))+n[3]-1894986606|0,a=(a<<10|a>>>22)+o|0,t+=(o^(a|~e))+n[10]-1051523|0,t=(t<<15|t>>>17)+a|0,e+=(a^(t|~o))+n[1]-2054922799|0,e=(e<<21|e>>>11)+t|0,o+=(t^(e|~a))+n[8]+1873313359|0,o=(o<<6|o>>>26)+e|0,a+=(e^(o|~t))+n[15]-30611744|0,a=(a<<10|a>>>22)+o|0,t+=(o^(a|~e))+n[6]-1560198380|0,t=(t<<15|t>>>17)+a|0,e+=(a^(t|~o))+n[13]+1309151649|0,e=(e<<21|e>>>11)+t|0,o+=(t^(e|~a))+n[4]-145523070|0,o=(o<<6|o>>>26)+e|0,a+=(e^(o|~t))+n[11]-1120210379|0,a=(a<<10|a>>>22)+o|0,t+=(o^(a|~e))+n[2]+718787259|0,t=(t<<15|t>>>17)+a|0,e+=(a^(t|~o))+n[9]-343485551|0,e=(e<<21|e>>>11)+t|0,s[0]=o+s[0]|0,s[1]=e+s[1]|0,s[2]=t+s[2]|0,s[3]=a+s[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(oe.stateIdentity),this}appendStr(s){const n=this._buffer8,o=this._buffer32;let e=this._bufferLength,t,a;for(a=0;a<s.length;a+=1){if(t=s.charCodeAt(a),t<128)n[e++]=t;else if(t<2048)n[e++]=(t>>>6)+192,n[e++]=t&63|128;else if(t<55296||t>56319)n[e++]=(t>>>12)+224,n[e++]=t>>>6&63|128,n[e++]=t&63|128;else{if(t=(t-55296)*1024+(s.charCodeAt(++a)-56320)+65536,t>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[e++]=(t>>>18)+240,n[e++]=t>>>12&63|128,n[e++]=t>>>6&63|128,n[e++]=t&63|128}e>=64&&(this._dataLength+=64,oe._md5cycle(this._state,o),e-=64,o[0]=o[16])}return this._bufferLength=e,this}appendAsciiStr(s){const n=this._buffer8,o=this._buffer32;let e=this._bufferLength,t,a=0;for(;;){for(t=Math.min(s.length-a,64-e);t--;)n[e++]=s.charCodeAt(a++);if(e<64)break;this._dataLength+=64,oe._md5cycle(this._state,o),e=0}return this._bufferLength=e,this}appendByteArray(s){const n=this._buffer8,o=this._buffer32;let e=this._bufferLength,t,a=0;for(;;){for(t=Math.min(s.length-a,64-e);t--;)n[e++]=s[a++];if(e<64)break;this._dataLength+=64,oe._md5cycle(this._state,o),e=0}return this._bufferLength=e,this}getState(){const s=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[s[0],s[1],s[2],s[3]]}}setState(s){const n=s.buffer,o=s.state,e=this._state;let t;for(this._dataLength=s.length,this._bufferLength=s.buflen,e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=o[3],t=0;t<n.length;t+=1)this._buffer8[t]=n.charCodeAt(t)}end(s=!1){const n=this._bufferLength,o=this._buffer8,e=this._buffer32,t=(n>>2)+1;this._dataLength+=n;const a=this._dataLength*8;if(o[n]=128,o[n+1]=o[n+2]=o[n+3]=0,e.set(oe.buffer32Identity.subarray(t),t),n>55&&(oe._md5cycle(this._state,e),e.set(oe.buffer32Identity)),a<=4294967295)e[14]=a;else{const l=a.toString(16).match(/(.*?)(.{0,8})$/);if(l===null)return;const d=parseInt(l[2],16),f=parseInt(l[1],16)||0;e[14]=d,e[15]=f}return oe._md5cycle(this._state,e),s?this._state:oe._hex(this._state)}}oe.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);oe.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);oe.hexChars="0123456789abcdef";oe.hexOut=[];oe.onePassHasher=new oe;if(oe.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");const Vo={class:"notify"},Do={class:"notify-history"},Dt=99,Oo=400,No=J({__name:"index",setup(r){const s=Be(),n=xt(),o=j(),e=j(!1);function t(){Pn().then(C=>{o.value=C.data.count.toString()}).catch(()=>{o.value="0"})}t();function a(){const C=n.username;let b=null;const m=oe.hashStr(C);if(window.EventSource){const g=jt(),A={heartbeatTimeout:180*1e3};g&&(A.headers={Authorization:`Bearer ${g}`}),b=new Mo.EventSourcePolyfill(`/api/v1/notify/refresh/${m}`,A),b.onopen=function(R){},b.onmessage=function(R){try{l(R.data)}catch(I){console.error("解析通知数据失败:",I)}},b.onerror=function(R){console.error("SSE连接错误:",R)}}}a();function l(C){o.value=C}const d=j("通知"),f=()=>{e.value=!0,Hn().then(C=>{_.value.list=C.data.list}).finally(()=>{e.value=!1})},_=j({name:"通知",type:"primary",list:[]}),c=()=>{s.push("/setting/noticeHistory")};return(C,b)=>{const m=E("el-icon"),g=E("el-tooltip"),A=E("el-badge"),R=E("el-scrollbar"),I=E("el-tab-pane"),T=E("el-tabs"),D=E("el-button"),G=E("el-popover"),H=mn("loading");return h(),V("div",Vo,[i(G,{placement:"bottom",width:Oo,trigger:"click",transition:"el-zoom-in-top","popper-class":"notify-popover"},{reference:v(()=>[i(A,{value:o.value,max:Dt,hidden:o.value==="0",onclick:f()},{default:v(()=>[i(g,{effect:"dark",content:"消息通知",placement:"bottom"},{default:v(()=>[i(m,{size:20,class:"bell-icon"},{default:v(()=>[i(S(qt))]),_:1})]),_:1})]),_:1},8,["value","hidden","onclick"])]),default:v(()=>[Ke((h(),M(T,{modelValue:d.value,"onUpdate:modelValue":b[0]||(b[0]=k=>d.value=k),class:"demo-tabs",stretch:""},{default:v(()=>[i(I,{name:_.value.name},{label:v(()=>[ie(ve(_.value.name)+" ",1),i(A,{value:o.value,max:Dt,type:_.value.type},null,8,["value","type"])]),default:v(()=>[i(R,{height:"400px",class:"notify-scrollbar"},{default:v(()=>[i(Fo,{list:_.value.list.map(k=>({...k,datetime:new Date(k.createTime).toLocaleString()}))},null,8,["list"])]),_:1})]),_:1},8,["name"])]),_:1},8,["modelValue"])),[[H,e.value]]),p("div",Do,[i(D,{link:"",onClick:c},{default:v(()=>[ie("查看"+ve(d.value)+"历史",1)]),_:1})])]),_:1})])}}});const Po=Y(No,[["__scopeId","data-v-000c4dda"]]),Ot=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Le=(()=>{if(typeof document>"u")return!1;const r=Ot[0],s={};for(const n of Ot)if((n==null?void 0:n[1])in document){for(const[e,t]of n.entries())s[r[e]]=t;return s}return!1})(),Nt={change:Le.fullscreenchange,error:Le.fullscreenerror};let be={request(r=document.documentElement,s){return new Promise((n,o)=>{const e=()=>{be.off("change",e),n()};be.on("change",e);const t=r[Le.requestFullscreen](s);t instanceof Promise&&t.then(e).catch(o)})},exit(){return new Promise((r,s)=>{if(!be.isFullscreen){r();return}const n=()=>{be.off("change",n),r()};be.on("change",n);const o=document[Le.exitFullscreen]();o instanceof Promise&&o.then(n).catch(s)})},toggle(r,s){return be.isFullscreen?be.exit():be.request(r,s)},onchange(r){be.on("change",r)},onerror(r){be.on("error",r)},on(r,s){const n=Nt[r];n&&document.addEventListener(n,s,!1)},off(r,s){const n=Nt[r];n&&document.removeEventListener(n,s,!1)},raw:Le};Object.defineProperties(be,{isFullscreen:{get:()=>!!document[Le.fullscreenElement]},element:{enumerable:!0,get:()=>document[Le.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[Le.fullscreenEnabled]}});Le||(be={isEnabled:!1});const ze=be,Ho=J({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(r){const s=r,n=j(!1),o=W(()=>n.value?s.exitTips:s.openTips),e=W(()=>n.value?"fullscreen-exit":"fullscreen"),t=()=>{const c=document.querySelector(s.element)||void 0;ze.isEnabled?ze.toggle(c):Fe.warning("您的浏览器无法工作")},a=()=>{n.value=ze.isFullscreen};ot(c=>{ze.on("change",a),c(()=>{ze.isEnabled&&ze.off("change",a)})});const l=j(!1),d=W(()=>l.value?"内容区复原":"内容区放大"),f=W(()=>l.value?"fullscreen-exit":"fullscreen"),_=()=>{document.body.className=l.value?"":"content-large",l.value=!l.value};return(c,C)=>{const b=E("SvgIcon"),m=E("el-tooltip"),g=E("el-dropdown-item"),A=E("el-dropdown-menu"),R=E("el-dropdown");return h(),V("div",null,[c.content?(h(),M(R,{key:1},{dropdown:v(()=>[i(A,null,{default:v(()=>[i(g,{onClick:_},{default:v(()=>[ie(ve(d.value),1)]),_:1}),i(g,{onClick:t,disabled:n.value},{default:v(()=>[ie("内容区全屏")]),_:1},8,["disabled"])]),_:1})]),default:v(()=>[i(b,{name:f.value},null,8,["name"])]),_:1})):(h(),M(m,{key:0,effect:"dark",content:o.value,placement:"bottom"},{default:v(()=>[i(b,{name:e.value,onClick:t},null,8,["name"])]),_:1},8,["content"]))])}}});const en=Y(Ho,[["__scopeId","data-v-87f6623b"]]),zo=["onMouseenter"],Uo={class:"result-item-title"},Bo=J({__name:"SearchResult",props:{modelValue:{},list:{},isPressUpOrDown:{type:Boolean}},emits:["update:modelValue"],setup(r,{expose:s,emit:n}){const o=r,e=Ut(),t=j(0),a=W({get(){return o.modelValue},set(c){n("update:modelValue",c)}}),l=c=>{const C=c.name===a.value;return{background:C?"var(--el-color-primary)":"",color:C?"#fff":""}},d=c=>{o.isPressUpOrDown||(a.value=c.name)},f=()=>{t.value=Number((window.innerHeight*.4).toFixed(1))},_=c=>{var g;const C=(g=e==null?void 0:e.proxy)==null?void 0:g.$refs[`resultItemRef${c}`];if(!C)return 0;const m=C[0].offsetTop+128;return m>t.value?m-t.value:0};return Ht(()=>{window.addEventListener("resize",f)}),bt(()=>{f()}),yt(()=>{window.removeEventListener("resize",f)}),s({getScrollTop:_}),(c,C)=>{const b=E("SvgIcon");return h(),V("div",null,[(h(!0),V(pe,null,Me(c.list,(m,g)=>{var A,R,I;return h(),V("div",{key:g,ref_for:!0,ref:`resultItemRef${g}`,class:"result-item",style:Bt(l(m)),onMouseenter:T=>d(m)},[(A=m.meta)!=null&&A.svgIcon?(h(),M(b,{key:0,name:m.meta.svgIcon},null,8,["name"])):(R=m.meta)!=null&&R.elIcon?(h(),M(Ge(m.meta.elIcon),{key:1,class:"el-icon"})):q("",!0),p("span",Uo,ve((I=m.meta)==null?void 0:I.title),1),a.value&&a.value===m.name?(h(),M(b,{key:2,name:"keyboard-enter"})):q("",!0)],44,zo)}),128))])}}});const Wo=Y(Bo,[["__scopeId","data-v-b9435321"]]),Tt=r=>(rt("data-v-6eeb9275"),r=r(),lt(),r),jo={class:"search-footer"},qo={class:"search-footer-item"},Xo=Tt(()=>p("span",null,"确认",-1)),Go={class:"search-footer-item"},Ko=Tt(()=>p("span",null,"切换",-1)),Jo={class:"search-footer-item"},Qo=Tt(()=>p("span",null,"关闭",-1)),Zo={class:"search-footer-total"},Yo=J({__name:"SearchFooter",props:{total:{}},setup(r){const s=r,n=Ve(),o=W(()=>n.device===ye.Mobile);return(e,t)=>{const a=E("SvgIcon");return h(),V("div",jo,[o.value?q("",!0):(h(),V(pe,{key:0},[p("span",qo,[i(a,{name:"keyboard-enter"}),Xo]),p("span",Go,[i(a,{name:"keyboard-up"}),i(a,{name:"keyboard-down"}),Ko]),p("span",Jo,[i(a,{name:"keyboard-esc"}),Qo])],64)),p("span",Zo,"共 "+ve(s.total)+" 项",1)])}}});const ea=Y(Yo,[["__scopeId","data-v-6eeb9275"]]),ta=p("p",null,"搜索结果",-1),na=J({__name:"SearchModal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(r,{emit:s}){const n=r,o=Ve(),e=Be(),t=j(null),a=j(null),l=j(null),d=j(""),f=gn([]),_=j(void 0),c=j(!1),C=W(()=>o.device===ye.Mobile?"80vw":"40vw"),b=W({get(){return n.modelValue},set(k){s("update:modelValue",k)}}),m=W(()=>Ln(wt().routes)),g=Xe(()=>{var y;const k=A(m.value);f.value=k.filter(z=>{var Z,O;return d.value?(O=(Z=z.meta)==null?void 0:Z.title)==null?void 0:O.toLocaleLowerCase().includes(d.value.toLocaleLowerCase().trim()):!1});const L=(y=f.value)==null?void 0:y.length;_.value=L>0?f.value[0].name:void 0},500),A=(k,L=[])=>(k.forEach(y=>{L.push(y),y.children&&A(y.children,L)}),L),R=()=>{b.value=!1,setTimeout(()=>{d.value="",f.value=[]},200)},I=k=>{var y;if(!l.value)return;const L=l.value.getScrollTop(k);(y=a.value)==null||y.setScrollTop(L)},T=()=>{c.value=!0;const{length:k}=f.value;if(k===0)return;const L=f.value.findIndex(y=>y.name===_.value);if(L===0){const y=f.value[k-1].name;_.value===y&&k>1?(_.value=f.value[k-2].name,I(k-2)):(_.value=y,I(k-1))}else _.value=f.value[L-1].name,I(L-1)},D=()=>{c.value=!0;const{length:k}=f.value;if(k===0)return;const L=f.value.map(y=>y.name).lastIndexOf(_.value);if(L===k-1){const y=f.value[0].name;_.value===y&&k>1?(_.value=f.value[1].name,I(1)):(_.value=y,I(0))}else _.value=f.value[L+1].name,I(L+1)},G=()=>{var z;const{length:k}=f.value;if(k===0)return;const L=_.value,y=(z=f.value.find(Z=>Z.name===L))==null?void 0:z.path;if(y&&at(y)){window.open(y,"_blank","noopener, noreferrer");return}if(!L){Fe.warning("无法通过搜索进入该菜单，请为对应的路由设置唯一的 Name");return}try{e.push({name:L})}catch{Fe.error("该菜单有必填的动态参数，无法通过搜索进入");return}R()},H=()=>{c.value=!1};return(k,L)=>{const y=E("SvgIcon"),z=E("el-input"),Z=E("el-empty"),O=E("el-dialog");return h(),M(O,{modelValue:b.value,"onUpdate:modelValue":L[2]||(L[2]=Q=>b.value=Q),onOpened:L[3]||(L[3]=Q=>{var ce;return(ce=t.value)==null?void 0:ce.focus()}),onClosed:L[4]||(L[4]=Q=>{var ce;return(ce=t.value)==null?void 0:ce.blur()}),onKeydown:[Ze(T,["up"]),Ze(D,["down"]),Ze(G,["enter"])],onKeyup:Ze(H,["up","down"]),"before-close":R,width:C.value,top:"5vh",class:"search-modal__private","append-to-body":""},{footer:v(()=>[i(ea,{total:f.value.length},null,8,["total"])]),default:v(()=>[i(z,{ref_key:"inputRef",ref:t,modelValue:d.value,"onUpdate:modelValue":L[0]||(L[0]=Q=>d.value=Q),onInput:S(g),placeholder:"搜索菜单",size:"large",clearable:""},{prefix:v(()=>[i(y,{name:"search"})]),_:1},8,["modelValue","onInput"]),f.value.length===0?(h(),M(Z,{key:0,description:"暂无搜索结果","image-size":100})):(h(),V(pe,{key:1},[ta,i(S(Gt),{ref_key:"scrollbarRef",ref:a,"max-height":"40vh",always:""},{default:v(()=>[i(Wo,{ref_key:"searchResultRef",ref:l,modelValue:_.value,"onUpdate:modelValue":L[1]||(L[1]=Q=>_.value=Q),list:f.value,isPressUpOrDown:c.value,onClick:G},null,8,["modelValue","list","isPressUpOrDown"])]),_:1},512)],64))]),_:1},8,["modelValue","onKeydown","onKeyup","width"])}}});const oa=J({__name:"index",setup(r){const s=j(!1),n=()=>{s.value=!0};return(o,e)=>{const t=E("SvgIcon"),a=E("el-tooltip");return h(),V("div",null,[i(a,{effect:"dark",content:"搜索菜单",placement:"bottom"},{default:v(()=>[i(t,{name:"search",onClick:n})]),_:1}),i(na,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value=l)},null,8,["modelValue"])])}}});const aa=Y(oa,[["__scopeId","data-v-08a5029a"]]),re=r=>(rt("data-v-abd6803e"),r=r(),lt(),r),sa={class:"steps-wrapper"},ra={class:"content-wrapper"},la={key:0,class:"download_div animate-fade-in"},ia={class:"step-content-header"},ca=re(()=>p("b",null,"1. 下载iast-engine.jar",-1)),ua={class:"code-block-wrapper"},da={class:"code-block-header"},fa=re(()=>p("span",null,"命令行下载",-1)),_a={class:"step-content-header"},pa=re(()=>p("b",null,"2. 下载iast-agent.jar",-1)),va={class:"code-block-wrapper"},ha={class:"code-block-header"},ma=re(()=>p("span",null,"命令行下载",-1)),ga={class:"step-content-header"},ba=re(()=>p("b",null,"3. 准备工作",-1)),ya=re(()=>p("p",{class:"info-text"},"将iast-agent.jar和iast-engine.jar放在同一文件夹中，确保两者版本兼容。",-1)),wa={key:1,class:"download_div animate-fade-in"},xa={class:"app-selection-wrapper"},Sa=re(()=>p("b",null,"绑定应用：",-1)),Ca={class:"card-header"},Ea=re(()=>p("div",{class:"header-text"},[p("span",{style:{"font-weight":"bold"}},"离线接入"),p("p",{class:"header-description"},"应用未启动时，将指定配置加入应用jvm启动项，跟随启动")],-1)),Ta={class:"code-block-wrapper"},Aa={class:"code-block-header"},$a=re(()=>p("span",null,"启动参数",-1)),ka={class:"card-header"},La=re(()=>p("div",{class:"header-text"},[p("span",{style:{"font-weight":"bold"}},"动态接入"),p("p",{class:"header-description"},"应用启动时，采用attach方式接入到应用")],-1)),Ra=re(()=>p("div",{class:"step-instruction"},[p("p",{class:"instruction-title"},"1. 获取应用进程号"),p("div",{class:"instruction-list"},[p("div",{class:"instruction-item"},[p("span",{class:"os-label"},"Windows:"),p("code",null,"tasklist")]),p("div",{class:"instruction-item"},[p("span",{class:"os-label"},"Linux:"),p("code",null,"ps -ef")])])],-1)),Ia=re(()=>p("p",{class:"instruction-title"},"2. 执行命令接入：",-1)),Fa={class:"code-block-wrapper"},Ma={class:"code-block-header"},Va=re(()=>p("span",null,"安装命令",-1)),Da={key:2,class:"download_div animate-fade-in success-step"},Oa={class:"success-icon-wrapper"},Na=re(()=>p("h3",{class:"success-title"},"安装成功！",-1)),Pa=re(()=>p("p",{class:"success-description"},"Agent已成功配置。您现在可以开始使用iast进行安全监控。",-1)),Ha={class:"step-content-header"},za=re(()=>p("b",null,"后续建议",-1)),Ua=re(()=>p("ul",{class:"suggestion-list"},[p("li",null,"验证Agent是否正常运行"),p("li",null,"查看监控数据是否正常收集"),p("li",null,"定期更新Agent以获取最新功能和安全修复")],-1)),Ba={class:"button-wrapper"},Wa={key:0},ja=re(()=>p("span",null,"下一步",-1)),qa=J({__name:"add-agent-modal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(r,{emit:s}){const n=r,o=W({get(){return n.modelValue&&(C(),a.value="default",l.value=0),n.modelValue},set(I){s("update:modelValue",I)}}),e=j(),t=j(),a=j("default"),l=j(0),d=()=>{l.value++>1&&(o.value=!1)},f=()=>{l.value--},_={pageSize:999,pageNum:1},c=j(),C=()=>{Bn(_).then(I=>{c.value=I.data}).catch(()=>{c.value=[]})};function b(){const I="/api/v1/";try{return new URL(I).origin}catch{return`${`${window.location.protocol}//${window.location.host}`}`}}function m(I){const T=b()+`/api/v1/agent/download?fileName=${I}&serverUrl=${b()}`,D=jt();Sn({method:"get",baseURL:T,data:{},headers:{Authorization:D?`Bearer ${D}`:void 0},responseType:"blob"}).then(G=>{const H=G.data;if(!H)return;const k=window.URL.createObjectURL(new Blob([H])),L=document.createElement("a");L.style.display="none",L.href=k,L.setAttribute("download",`iast-${I}.jar`),document.body.appendChild(L),L.click(),window.URL.revokeObjectURL(L.href),document.body.removeChild(L)}).catch(G=>{Fe.error("下载失败")})}function g(){Un().then(I=>{let T="engine";e.value=`curl "${b()}/api/v1/agent/download?fileName=${T}&serverUrl=${b()}" --header "Authorization:Bearer ${I.data}" -o iast-${T}.jar`,T="agent",t.value=`curl "${b()}/api/v1/agent/download?fileName=${T}&serverUrl=${b()}" --header "Authorization:Bearer ${I.data}" -o iast-${T}.jar`})}g();function A(I){m(I)}function R(I){navigator.clipboard.writeText(I).then(()=>{Fe.success("复制成功")}).catch(()=>{Fe.error("复制失败，请手动复制")})}return(I,T)=>{const D=E("el-step"),G=E("el-steps"),H=E("el-icon"),k=E("el-button"),L=E("el-input"),y=E("el-card"),z=E("el-option"),Z=E("el-select"),O=E("el-text"),Q=E("el-col"),ce=E("el-dialog");return h(),M(ce,{modelValue:o.value,"onUpdate:modelValue":T[9]||(T[9]=ee=>o.value=ee),top:"5vh",class:"search-modal__private add-agent-modal","append-to-body":"",width:"720px",title:"添加Agent","close-on-click-modal":!1},{default:v(()=>[p("div",sa,[i(G,{active:l.value,"finish-status":"success","align-center":""},{default:v(()=>[i(D,{title:"下载",description:"获取必要的Agent文件"}),i(D,{title:"安装",description:"根据环境选择安装方式"}),i(D,{title:"完成",description:"安装配置完成"})]),_:1},8,["active"])]),p("div",ra,[l.value==0?(h(),V("div",la,[i(y,{class:"card-install"},{default:v(()=>[p("div",ia,[i(H,{class:"step-icon"},{default:v(()=>[i(S(Ft))]),_:1}),ca,i(k,{class:"download-btn",type:"primary",onClick:T[0]||(T[0]=ee=>A("engine"))},{default:v(()=>[ie("直接下载")]),_:1})]),p("div",ua,[p("div",da,[fa,i(k,{size:"small",class:"copy-btn",onClick:T[1]||(T[1]=ee=>R(e.value)),icon:S(Ye),circle:""},null,8,["icon"])]),i(L,{type:"textarea",modelValue:e.value,"onUpdate:modelValue":T[2]||(T[2]=ee=>e.value=ee),readonly:""},null,8,["modelValue"])])]),_:1}),i(y,{class:"card-install"},{default:v(()=>[p("div",_a,[i(H,{class:"step-icon"},{default:v(()=>[i(S(Ft))]),_:1}),pa,i(k,{class:"download-btn",type:"primary",onClick:T[3]||(T[3]=ee=>A("agent"))},{default:v(()=>[ie("直接下载")]),_:1})]),p("div",va,[p("div",ha,[ma,i(k,{size:"small",class:"copy-btn",onClick:T[4]||(T[4]=ee=>R(t.value)),icon:S(Ye),circle:""},null,8,["icon"])]),i(L,{type:"textarea",modelValue:t.value,"onUpdate:modelValue":T[5]||(T[5]=ee=>t.value=ee),readonly:""},null,8,["modelValue"])])]),_:1}),i(y,{class:"card-install info-card"},{default:v(()=>[p("div",ga,[i(H,{class:"step-icon"},{default:v(()=>[i(S(Xt))]),_:1}),ba]),ya]),_:1})])):q("",!0),l.value==1?(h(),V("div",wa,[p("div",xa,[Sa,i(Z,{modelValue:a.value,"onUpdate:modelValue":T[6]||(T[6]=ee=>a.value=ee),"default-first-option":"",clearable:"",placeholder:"请选择应用"},{default:v(()=>[(h(!0),V(pe,null,Me(c.value,ee=>(h(),M(z,{key:ee.id,label:ee.name,value:ee.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),i(y,{class:"card-install"},{header:v(()=>[p("div",Ca,[i(H,{class:"card-icon"},{default:v(()=>[i(S(Kt))]),_:1}),Ea])]),default:v(()=>[i(O,{class:"step-description"},{default:v(()=>[ie("启动应用时，增加配置：")]),_:1}),p("div",Ta,[p("div",Aa,[$a,i(k,{size:"small",class:"copy-btn",onClick:T[7]||(T[7]=ee=>R(`-javaagent:/[path]/iast-agent.jar -Diast.app.name=${a.value}`)),icon:S(Ye),circle:""},null,8,["icon"])]),i(L,{type:"textarea",readonly:"",value:`-javaagent:/[path]/iast-agent.jar -Diast.app.name=${a.value}`},null,8,["value"])])]),_:1}),i(y,{class:"card-install"},{header:v(()=>[p("div",ka,[i(H,{class:"card-icon"},{default:v(()=>[i(S(Rn))]),_:1}),La])]),default:v(()=>[Ra,Ia,p("div",Fa,[p("div",Ma,[Va,i(k,{size:"small",class:"copy-btn",onClick:T[8]||(T[8]=ee=>R(`java -jar iast-engine.jar -m install -p [PID] -a ${a.value}`)),icon:S(Ye),circle:""},null,8,["icon"])]),i(L,{type:"textarea",readonly:"",value:`java -jar iast-engine.jar -m install -p [PID] -a ${a.value}`},null,8,["value"])])]),_:1})])):q("",!0),l.value==2?(h(),V("div",Da,[p("div",Oa,[i(H,{class:"success-icon"},{default:v(()=>[i(S(In))]),_:1})]),Na,Pa,i(y,{class:"card-install info-card"},{default:v(()=>[p("div",Ha,[i(H,{class:"step-icon"},{default:v(()=>[i(S(Fn))]),_:1}),za]),Ua]),_:1})])):q("",!0)]),p("div",Ba,[i(Q,{span:12},{default:v(()=>[l.value==1||l.value==2?(h(),V("div",Wa,[i(k,{class:"nav-button",onClick:f,size:"default"},{default:v(()=>[i(H,null,{default:v(()=>[i(S(Jt))]),_:1}),ie(" 上一步 ")]),_:1})])):q("",!0)]),_:1}),i(Q,{span:12,class:"text-right"},{default:v(()=>[i(k,{class:"nav-button primary-button",type:"primary",onClick:d,size:"default",loading:!1},{default:v(()=>[l.value<2?(h(),V(pe,{key:0},[ja,i(H,null,{default:v(()=>[i(S(Qt))]),_:1})],64)):(h(),V(pe,{key:1},[ie(" 完成 ")],64))]),_:1})]),_:1})])]),_:1},8,["modelValue"])}}});const Xa=Y(qa,[["__scopeId","data-v-abd6803e"]]),Ga=J({__name:"index",setup(r){const s=j(!1),n=()=>{s.value=!0};return(o,e)=>{const t=E("el-button"),a=E("SvgIcon"),l=E("el-tooltip");return h(),V("div",null,[i(l,{effect:"dark",content:"添加Agent",placement:"bottom"},{default:v(()=>[i(t,{type:"primary",icon:S(Mn),onClick:n},{default:v(()=>[ie("添加Agent")]),_:1},8,["icon"]),i(a,{name:"search",onClick:n})]),_:1}),i(Xa,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=d=>s.value=d)},null,8,["modelValue"])])}}});const Ka=Y(Ga,[["__scopeId","data-v-24444237"]]),Ja=r=>(rt("data-v-83983d65"),r=r(),lt(),r),Qa={class:"navigation-bar"},Za={class:"right-menu"},Ya={class:"right-menu-avatar"},es={target:"_blank",href:"https://github.com/keven1z/simpleIAST"},ts=Ja(()=>p("span",{style:{display:"block"}},"退出登录",-1)),ns=J({__name:"index",setup(r){const s=Be(),n=Ve(),o=Ee(),e=xt(),{sidebar:t,device:a}=Se(n),{layoutMode:l,showNotify:d,showThemeSwitch:f,showScreenfull:_,showSearchMenu:c}=Se(o),C=W(()=>l.value==="top"),b=W(()=>a.value===ye.Mobile),m=()=>{n.toggleSidebar(!1)},g=()=>{e.logout(),s.push("/login")};return(A,R)=>{const I=E("el-avatar"),T=E("el-dropdown-item"),D=E("el-dropdown-menu"),G=E("el-dropdown");return h(),V("div",Qa,[!C.value||b.value?(h(),M(to,{key:0,"is-active":S(t).opened,class:"hamburger",onToggleClick:m},null,8,["is-active"])):q("",!0),!C.value||b.value?(h(),M(fo,{key:1,class:"breadcrumb"})):q("",!0),C.value&&!b.value?(h(),M(Et,{key:2,class:"sidebar"})):q("",!0),p("div",Za,[i(Ka),S(c)?(h(),M(aa,{key:0,class:"right-menu-item"})):q("",!0),S(_)?(h(),M(en,{key:1,class:"right-menu-item"})):q("",!0),S(f)?(h(),M(zn,{key:2,class:"right-menu-item"})):q("",!0),S(d)?(h(),M(Po,{key:3,class:"right-menu-item"})):q("",!0),i(G,{class:"right-menu-item"},{dropdown:v(()=>[i(D,null,{default:v(()=>[p("a",es,[i(T,null,{default:v(()=>[ie("GitHub")]),_:1})]),i(T,{divided:"",onClick:g},{default:v(()=>[ts]),_:1})]),_:1})]),default:v(()=>[p("div",Ya,[i(I,{icon:S(Vn),size:30},null,8,["icon"]),p("span",null,ve(S(e).username),1)])]),_:1})])])}}});const At=Y(ns,[["__scopeId","data-v-83983d65"]]),os={class:"select-layout-mode"},as=J({__name:"SelectLayoutMode",setup(r){const s=Ee(),{layoutMode:n}=Se(s),o=W(()=>n.value==="left"),e=W(()=>n.value==="top"),t=W(()=>n.value==="left-top");return(a,l)=>{const d=E("el-aside"),f=E("el-header"),_=E("el-main"),c=E("el-container"),C=E("el-tooltip");return h(),V("div",os,[i(C,{content:"左侧模式"},{default:v(()=>[i(c,{class:_e(["layout-mode left",{active:o.value}]),onClick:l[0]||(l[0]=b=>n.value="left")},{default:v(()=>[i(d),i(c,null,{default:v(()=>[i(f),i(_)]),_:1})]),_:1},8,["class"])]),_:1}),i(C,{content:"顶部模式"},{default:v(()=>[i(c,{class:_e(["layout-mode top",{active:e.value}]),onClick:l[1]||(l[1]=b=>n.value="top")},{default:v(()=>[i(f),i(_)]),_:1},8,["class"])]),_:1}),i(C,{content:"混合模式"},{default:v(()=>[i(c,{class:_e(["layout-mode left-top",{active:t.value}]),onClick:l[2]||(l[2]=b=>n.value="left-top")},{default:v(()=>[i(f),i(c,null,{default:v(()=>[i(d),i(_)]),_:1})]),_:1},8,["class"])]),_:1})])}}});const ss=Y(as,[["__scopeId","data-v-33bcccfb"]]),tn=r=>(rt("data-v-81cc5273"),r=r(),lt(),r),rs={class:"setting-container"},ls=tn(()=>p("h4",null,"布局配置",-1)),is=tn(()=>p("h4",null,"功能配置",-1)),cs={class:"setting-name"},us=J({__name:"index",setup(r){const s=Ee(),{layoutMode:n,showTagsView:o,showLogo:e,fixedHeader:t,showNotify:a,showThemeSwitch:l,showScreenfull:d,showSearchMenu:f,cacheTagsView:_,showWatermark:c,showGreyMode:C,showColorWeakness:b}=Se(s),m={显示标签栏:o,"显示 Logo":e,"固定 Header":t,显示消息通知:a,显示切换主题按钮:l,显示全屏按钮:d,显示搜索按钮:f,是否缓存标签栏:_,开启系统水印:c,显示灰色模式:C,显示色弱模式:b};return ot(()=>{n.value!=="left"&&(t.value=!0)}),(g,A)=>{const R=E("el-divider"),I=E("el-switch"),T=E("el-button");return h(),V("div",rs,[ls,i(ss),i(R),is,(h(),V(pe,null,Me(m,(D,G,H)=>p("div",{class:"setting-item",key:H},[p("span",cs,ve(G),1),i(I,{modelValue:D.value,"onUpdate:modelValue":k=>D.value=k,disabled:S(n)!=="left"&&G==="固定 Header"},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),i(T,{type:"danger",icon:S(Dn),onClick:S(Co)},{default:v(()=>[ie("重 置")]),_:1},8,["icon","onClick"])])}}});const ds=Y(us,[["__scopeId","data-v-81cc5273"]]),fs={class:"scroll-container"},_s=200,ps=J({__name:"ScrollPane",props:{tagRefs:{}},setup(r){const s=r,n=st(),o=Ee(),{listenerRouteChange:e}=ct(),t=j(),a=j();let l=0;const d=({scrollLeft:b})=>{l=b},f=({deltaY:b})=>{/^-/.test(b.toString())?c("left"):c("right")},_=()=>{const b=a.value.clientWidth,m=t.value.wrapRef.clientWidth,g=b-m-l;return{scrollbarContentRefWidth:b,scrollbarRefWidth:m,lastDistance:g}},c=(b,m=_s)=>{let g=0;const{scrollbarContentRefWidth:A,scrollbarRefWidth:R,lastDistance:I}=_();R>A||(b==="left"?g=Math.max(0,l-m):g=Math.min(l+m,l+I),t.value.setScrollLeft(g))},C=()=>{const b=s.tagRefs;for(let m=0;m<b.length;m++)if(n.path===b[m].$props.to.path){const g=b[m].$el,A=g.offsetWidth,R=g.offsetLeft,{scrollbarRefWidth:I}=_();if(R<l){const D=l-R;c("left",D);return}const T=I+l-A;if(R>T){const D=R-T;c("right",D);return}}};return e(()=>{bn(C)}),(b,m)=>{const g=E("el-icon");return h(),V("div",fs,[i(g,{class:"arrow left",onClick:m[0]||(m[0]=A=>c("left"))},{default:v(()=>[i(S(Jt))]),_:1}),i(S(Gt),{ref_key:"scrollbarRef",ref:t,onWheelPassive:f,onScroll:d},{default:v(()=>[p("div",{ref_key:"scrollbarContentRef",ref:a,class:"scrollbar-content"},[nt(b.$slots,"default",{},void 0,!0)],512)]),_:3},512),i(g,{class:"arrow right",onClick:m[1]||(m[1]=A=>c("right"))},{default:v(()=>[i(S(Qt))]),_:1}),S(o).showScreenfull?(h(),M(en,{key:0,element:".app-main",content:!0,class:"screenfull"})):q("",!0)])}}});const vs=Y(ps,[["__scopeId","data-v-1fe46ed3"]]),hs={class:"tags-view-container"},ms=J({__name:"index",setup(r){const s=Ut(),n=Be(),o=st(),e=Wt(),t=wt(),{listenerRouteChange:a}=ct(),l=j([]),d=j(!1),f=j(0),_=j(0),c=j({});let C=[];const b=y=>y.path===o.path,m=y=>{var z;return(z=y.meta)==null?void 0:z.affix},g=(y,z="/")=>{const Z=[];return y.forEach(O=>{if(m(O)){const Q=Yt.resolve(z,O.path);Z.push({fullPath:Q,path:Q,name:O.name,meta:{...O.meta}})}if(O.children){const Q=g(O.children,O.path);Z.push(...Q)}}),Z},A=()=>{C=g(t.routes);for(const y of C)y.name&&e.addVisitedView(y)},R=y=>{y.name&&(e.addVisitedView(y),e.addCachedView(y))},I=y=>{e.delCachedView(y),n.replace({path:"/redirect"+y.path,query:y.query})},T=y=>{e.delVisitedView(y),e.delCachedView(y),b(y)&&H(e.visitedViews,y)},D=()=>{const y=c.value.fullPath;y!==o.path&&y!==void 0&&n.push(y),e.delOthersVisitedViews(c.value),e.delOthersCachedViews(c.value)},G=y=>{e.delAllVisitedViews(),e.delAllCachedViews(),!C.some(z=>z.path===o.path)&&H(e.visitedViews,y)},H=(y,z)=>{const Z=y.slice(-1)[0],O=Z==null?void 0:Z.fullPath;O!==void 0?n.push(O):z.name==="Dashboard"?n.push({path:"/redirect"+z.path,query:z.query}):n.push("/")},k=(y,z)=>{const O=s.proxy.$el.getBoundingClientRect().left,ce=s.proxy.$el.offsetWidth-105,ee=z.clientX-O+15;_.value=ee>ce?ce:ee,f.value=z.clientY,d.value=!0,c.value=y},L=()=>{d.value=!1};return Pt(d,y=>{y?document.body.addEventListener("click",L):document.body.removeEventListener("click",L)}),bt(()=>{A(),a(async y=>{R(y)},!0)}),(y,z)=>{const Z=E("el-icon");return h(),V("div",hs,[i(vs,{class:"tags-view-wrapper","tag-refs":l.value},{default:v(()=>[(h(!0),V(pe,null,Me(S(e).visitedViews,O=>(h(),M(S(yn),{ref_for:!0,ref_key:"tagRefs",ref:l,key:O.path,class:_e([{active:b(O)},"tags-view-item"]),to:{path:O.path,query:O.query},onMouseup:et(Q=>!m(O)&&T(O),["middle"]),onContextmenu:et(Q=>k(O,Q),["prevent"])},{default:v(()=>{var Q;return[ie(ve((Q=O.meta)==null?void 0:Q.title)+" ",1),m(O)?q("",!0):(h(),M(Z,{key:0,size:12,onClick:et(ce=>T(O),["prevent","stop"])},{default:v(()=>[i(S(On))]),_:2},1032,["onClick"]))]}),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),Ke(p("ul",{class:"contextmenu",style:Bt({left:_.value+"px",top:f.value+"px"})},[p("li",{onClick:z[0]||(z[0]=O=>I(c.value))},"刷新"),m(c.value)?q("",!0):(h(),V("li",{key:0,onClick:z[1]||(z[1]=O=>T(c.value))},"关闭")),p("li",{onClick:D},"关闭其它"),p("li",{onClick:z[2]||(z[2]=O=>G(c.value))},"关闭所有")],4),[[it,d.value]])])}}});const $t=Y(ms,[["__scopeId","data-v-29fc66f2"]]),gs=J({__name:"index",props:{buttonTop:{default:350}},setup(r){const s=r;zt(e=>({"0a230261":n}));const n=s.buttonTop+"px",o=j(!1);return(e,t)=>{const a=E("el-icon"),l=E("el-drawer");return h(),V(pe,null,[p("div",{class:"handle-button",onClick:t[0]||(t[0]=d=>o.value=!0)},[i(a,{size:24},{default:v(()=>[i(S(Kt))]),_:1})]),i(l,{modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=d=>o.value=d),size:"300px","with-header":!1},{default:v(()=>[nt(e.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}});const bs=Y(gs,[["__scopeId","data-v-560ea116"]]),ys=J({__name:"LeftMode",setup(r){const s=Ve(),n=Ee(),{showTagsView:o,fixedHeader:e}=Se(n),t=W(()=>({hideSidebar:!s.sidebar.opened,openSidebar:s.sidebar.opened,withoutAnimation:s.sidebar.withoutAnimation,mobile:s.device===ye.Mobile})),a=()=>{s.closeSidebar(!1)};return(l,d)=>(h(),V("div",{class:_e([t.value,"app-wrapper"])},[t.value.mobile&&t.value.openSidebar?(h(),V("div",{key:0,class:"drawer-bg",onClick:a})):q("",!0),i(S(Et),{class:"sidebar-container"}),p("div",{class:_e([{hasTagsView:S(o)},"main-container"])},[p("div",{class:_e([{"fixed-header":S(e)},"layout-header"])},[i(S(At)),Ke(i(S($t),null,null,512),[[it,S(o)]])],2),i(S(St),{class:"app-main"})],2)],2))}});const ws=Y(ys,[["__scopeId","data-v-13095ddf"]]),xs={class:"app-wrapper"},Ss={class:"fixed-header layout-header"},Cs={class:"content"},Es=J({__name:"TopMode",setup(r){const s=Ee(),{showTagsView:n,showLogo:o}=Se(s);return(e,t)=>(h(),V("div",xs,[p("div",Ss,[p("div",Cs,[S(o)?(h(),M(S(Ct),{key:0,collapse:!1,class:"logo"})):q("",!0),i(S(At),{class:"navigation-bar"})]),Ke(i(S($t),null,null,512),[[it,S(n)]])]),p("div",{class:_e([{hasTagsView:S(n)},"main-container"])},[i(S(St),{class:"app-main"})],2)]))}});const Ts=Y(Es,[["__scopeId","data-v-004b3958"]]),As={class:"fixed-header layout-header"},$s={class:"content"},ks=J({__name:"LeftTopMode",setup(r){const s=Ve(),n=Ee(),{showTagsView:o,showLogo:e}=Se(n),t=W(()=>({hideSidebar:!s.sidebar.opened}));return(a,l)=>(h(),V("div",{class:_e([t.value,"app-wrapper"])},[p("div",As,[S(e)?(h(),M(S(Ct),{key:0,collapse:!1,class:"logo"})):q("",!0),p("div",$s,[i(S(At)),Ke(i(S($t),null,null,512),[[it,S(o)]])])]),p("div",{class:_e([{hasTagsView:S(o)},"main-container"])},[i(S(Et),{class:"sidebar-container"}),i(S(St),{class:"app-main"})],2)],2))}});const Ls=Y(ks,[["__scopeId","data-v-febf122c"]]),mt="--v3-tagsview-height",Rs=J({__name:"index",setup(r){Xn();const{setWatermark:s,clearWatermark:n}=Jn(),o=Ve(),e=Ee(),t=xt(),{showSettings:a,layoutMode:l,showTagsView:d,showWatermark:f,showGreyMode:_,showColorWeakness:c}=Se(e),C=W(()=>({showGreyMode:_.value,showColorWeakness:c.value})),b=tt(mt);return ot(()=>{d.value?Vt(mt,b):Vt(mt,"0px")}),ot(()=>{f.value?s(t.username):n()}),(m,g)=>(h(),V("div",{class:_e(C.value)},[S(l)==="left"||S(o).device===S(ye).Mobile?(h(),M(ws,{key:0})):S(l)==="top"?(h(),M(Ts,{key:1})):S(l)==="left-top"?(h(),M(Ls,{key:2})):q("",!0),S(a)?(h(),M(S(bs),{key:3},{default:v(()=>[i(S(ds))]),_:1})):q("",!0)],2))}});const Hs=Y(Rs,[["__scopeId","data-v-ebb8c194"]]);export{Hs as default};
